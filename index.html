<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïû¨ÎÇú Í¥ÄÎ¶¨ Ïπ¥Îìú Í≤åÏûÑ</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans KR', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        #root { width: 100%; max-width: 1400px; }
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        .title {
            text-align: center;
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 30px;
            font-weight: bold;
        }
        .mode-selection { text-align: center; margin: 40px 0; }
        .mode-button, .action-button {
            padding: 20px 40px;
            margin: 10px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        .mode-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        .mode-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }
        .lives-display {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 100;
        }
        .lives-display h3 { color: #667eea; margin-bottom: 10px; }
        .hearts { display: flex; flex-direction: column; gap: 5px; }
        .heart { font-size: 2em; }
        .player-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 10px;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        .disaster-cards-area {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .disaster-card {
            width: 280px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            background: linear-gradient(180deg, #ff6b6b 0%, #ee5a6f 100%);
        }
        .disaster-card.active {
            border: 5px solid #ffd93d;
            box-shadow: 0 0 30px rgba(255, 217, 61, 0.8);
            animation: pulse 1.5s infinite;
        }
        .disaster-card.completed {
            background: linear-gradient(180deg, #4ecdc4 0%, #44a08d 100%);
            opacity: 0.7;
        }
        .disaster-card.waiting { opacity: 0.5; }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 217, 61, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(255, 217, 61, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 217, 61, 0); }
        }
        .card-header {
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
            color: white;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .card-image {
            height: 120px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            padding: 20px;
        }
        .card-footer {
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            background: rgba(0,0,0,0.1);
        }
        .category-dot {
            padding: 5px 10px;
            background: white;
            border-radius: 15px;
            font-size: 0.75em;
            color: #333;
        }
        .category-dot.collected { background: #ffd93d; font-weight: bold; }
        .next-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 50px;
            font-size: 1.3em;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: all 0.3s;
        }
        .next-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        .instructions {
            background: #fff3cd;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            color: #856404;
            font-size: 1.1em;
        }
        .drawn-cards-area {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        .solution-card {
            width: 350px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            background: linear-gradient(180deg, #4ecdc4 0%, #44a08d 100%);
            position: relative;
        }
        .solution-card.answered { opacity: 0.6; }
        .solution-text {
            padding: 25px;
            background: white;
            color: #333;
            font-size: 1.1em;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.5;
            font-weight: 500;
        }
        .ox-buttons {
            display: flex;
            gap: 10px;
            padding: 15px;
            justify-content: center;
        }
        .ox-button {
            flex: 1;
            padding: 15px 30px;
            font-size: 1.5em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        .ox-button.o-button { background: #4ecdc4; color: white; }
        .ox-button.x-button { background: #ff6b6b; color: white; }
        .ox-button:hover { transform: scale(1.05); }
        .ox-button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        .hand-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f8f8;
            border-radius: 15px;
        }
        .hand-section h3 { color: #667eea; margin-bottom: 15px; text-align: center; }
        .hand-cards { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .hand-card {
            padding: 10px 15px;
            background: #4ecdc4;
            color: white;
            border-radius: 8px;
            font-size: 0.9em;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 700px;
            width: 90%;
            text-align: center;
            max-height: 90vh;
            overflow-y: auto;
        }
        .quiz-option {
            padding: 15px 25px;
            margin: 10px 5px;
            background: #f0f0f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
            display: inline-block;
        }
        .quiz-option:hover { background: #667eea; color: white; transform: scale(1.05); }
        .action-button { background: #4ecdc4; color: white; padding: 15px 30px; font-size: 1em; }
        .action-button:hover { background: #44a08d; transform: scale(1.05); }
        .victory-screen, .game-over-screen { text-align: center; padding: 50px; }
        .victory-screen h1, .game-over-screen h1 { font-size: 3em; color: #667eea; margin-bottom: 30px; }
        .game-over-screen h1 { color: #ff6b6b; }
        .result-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        .result-badge.correct { background: #4ecdc4; color: white; }
        .result-badge.incorrect { background: #ff6b6b; color: white; }
        .explanation-modal {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            text-align: center;
        }
        .explanation-modal h2 { color: #ff6b6b; margin-bottom: 20px; }
        .explanation-box {
            background: #f8f8f8;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: left;
        }
        .explanation-box.wrong { border-left: 5px solid #ff6b6b; }
        .explanation-box.correct { border-left: 5px solid #4ecdc4; }
        .explanation-label { font-weight: bold; margin-bottom: 10px; display: block; }
        .history-section {
            margin-top: 30px;
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
        }
        .history-item {
            background: #f8f8f8;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 5px solid #ccc;
        }
        .history-item.correct { border-left-color: #4ecdc4; }
        .history-item.incorrect { border-left-color: #ff6b6b; }
        .history-item .disaster-name { font-weight: bold; color: #667eea; }
        .history-item .card-text { margin: 5px 0; }
        .history-item .result { font-weight: bold; }
        .history-item .result.correct { color: #4ecdc4; }
        .history-item .result.incorrect { color: #ff6b6b; }
        .stats-box {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .stat-item {
            text-align: center;
            padding: 20px;
            background: #f8f8f8;
            border-radius: 10px;
            min-width: 120px;
        }
        .stat-number { font-size: 2.5em; font-weight: bold; }
        .stat-number.correct { color: #4ecdc4; }
        .stat-number.incorrect { color: #ff6b6b; }
        .stat-label { color: #666; margin-top: 5px; }
        .toggle-history {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // ÏûêÏó∞Ïû¨ÎÇú Îç∞Ïù¥ÌÑ∞ (Ïò§ÎãµÏóê explanation Ï∂îÍ∞Ä)
        const NATURAL_DISASTERS = {
            'Í∞ÄÎ≠Ñ': {
                icon: 'üèúÔ∏è',
                categories: {
                    101: 'Í∞ÄÎ≠Ñ Ïãú ÏÉùÌôú ÌñâÎèôÏöîÎ†π',
                    102: 'Í∞ÄÎ≠Ñ Ïãú ÎÜçÏ¥å ÌñâÎèôÏöîÎ†π',
                    103: 'Í∞ÄÎ≠ÑÍ≥º Í¥ÄÎ†®Îêú Ï†ïÎ≥¥'
                },
                correct: [
                    { text: 'ÏÑ∏ÌÉÅÌï† ÎïåÎäî ÌïúÍ∫ºÎ≤àÏóê Î™®ÏïÑÏÑú ÌïúÎã§.', category: 101 },
                    { text: 'ÏàòÎèÑÍº≠ÏßÄÎÇò Í¥ÄÏùò ÎàÑÏàòÎ•º Ï≤†Ï†ÄÌûà Ï†êÍ≤ÄÌïúÎã§.', category: 101 },
                    { text: 'ÏñëÏπòÏßàÏùÑ Ìï† ÎïåÎäî Î∞òÎìúÏãú ÏªµÏùÑ ÏÇ¨Ïö©ÌïúÎã§.', category: 101 },
                    { text: 'Í±¥Î¨º Ïïû Ïù∏ÎèÑÎÇò ÎèÑÎ°úÎ≥Ä Ï≤≠ÏÜåÎäî ÎπóÏûêÎ£®Î•º ÏÇ¨Ïö©ÌïòÍ≥† Î¨ºÏ≤≠ÏÜåÎäî Í∞ÄÍ∏âÏ†Å ÏûêÏ†úÌïúÎã§.', category: 101 },
                    { text: 'ÏÑ∏Ï∞®Ìï† ÎïåÎäî ÏûêÎèôÏû†Í∏àÏû•ÏπòÍ∞Ä ÏûàÎäî Ìò∏Ïä§Î•º Ïù¥Ïö©ÌïúÎã§.', category: 101 },
                    { text: 'ÎÖºÏóê Î¨º Í∞ÄÎëêÍ∏∞Î•º Ïã§ÏãúÌïúÎã§.', category: 102 },
                    { text: 'Î™® ÌôúÏ∞© Í∏∞Í∞Ñ Ï§ëÏóêÎäî ÏµúÏÜåÌïú ÏäµÍ∏∞Î•º Ïú†ÏßÄÌïúÎã§.', category: 102 },
                    { text: 'Ïù¥ÎèôÏãù Ïä§ÌîÑÎßÅÌÅ¥Îü¨ Îì±ÏùÑ Ïù¥Ïö©ÌïòÏó¨ ÎÜçÏûëÎ¨ºÏù¥ ÏãúÎì§ÏßÄ ÏïäÎèÑÎ°ù Í¥ÄÎ¶¨ÌïúÎã§.', category: 102 },
                    { text: 'ÎåÄÌååÏö© Ï¢ÖÏûê Î∞è ÎåÄÏ≤¥ÏûëÎ¨ºÏû¨Î∞∞ Í≥ÑÌöçÏùÑ ÎØ∏Î¶¨ ÏÑ∏Ïö¥Îã§.', category: 102 },
                    { text: 'ÌÜ†Ïñë ÌîºÎ≥µÏù¥ Í∞ÄÎä•Ìïú Í≥≥Ïóê Î≥èÏßöÏù¥ÎÇò ÎπÑÎãêÏùÑ ÍπîÏïÑ ÌÜ†Ïñë ÏàòÎ∂Ñ Ï¶ùÎ∞úÏùÑ ÏµúÏÜåÌôîÌïúÎã§.', category: 102 },
                    { text: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëú ÏãúÍ∏∞Îäî Îß§Ïõî 10Ïùº Î∞úÌëú ÌòπÏùÄ ÏàòÏãúÏù¥Îã§.', category: 103 },
                    { text: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëú ÎÇ¥Ïö©ÏùÄ ÌòÑÏû¨, 1Í∞úÏõî Ï†ÑÎßù, 3Í∞úÏõî Ï†ÑÎßùÏúºÎ°ú Íµ¨Î∂ÑÎêúÎã§.', category: 103 },
                    { text: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëú Ï£ºÏ≤¥ Ï¥ùÍ¥ÑÏùÄ ÌñâÏ†ïÏïàÏ†ÑÎ∂ÄÎã§.', category: 103 },
                    { text: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëú Í¥ÄÎ†® Ï£ºÏ≤¥ÏóêÎäî ÌñâÏ†ïÏïàÏ†ÑÎ∂Ä, ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä, ÌôòÍ≤ΩÎ∂Ä, Í∏∞ÏÉÅÏ≤≠Ïù¥ ÏûàÎã§.', category: 103 },
                    { text: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëúÎäî ÌäπÎ≥Ñ, Í¥ëÏó≠, ÏûêÏπòÏãúÎèÑ Î∞è Ïãú, Íµ∞ Î≥ÑÎ°ú Ïã§ÏãúÌïúÎã§.', category: 103 }
                ],
                wrong: [
                    { text: 'ÏñëÏπòÏãú ÏµúÎåÄÌïú Î¨ºÏùÑ Ï†ÅÍ≤å ÏÇ¨Ïö©ÌïòÍ∏∞ ÏúÑÌï¥ ÏÜêÏùÑ Ïù¥Ïö©Ìï¥ ÏûÖÏùÑ ÌóπÍµ∞Îã§.', explanation: 'ÏñëÏπòÏßàÏùÑ Ìï† ÎïåÎäî Î∞òÎìúÏãú ÏªµÏùÑ ÏÇ¨Ïö©ÌïúÎã§.' },
                    { text: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëú Í¥ÄÎ†® Ï£ºÏ≤¥ÏóêÎäî ÌôòÍ≤ΩÎ∂ÄÍ∞Ä Ìè¨Ìï®ÎêòÏßÄ ÏïäÎäîÎã§.', explanation: 'ÏòàÎ≥¥ Î∞è Í≤ΩÎ≥¥ Î∞úÌëú Í¥ÄÎ†® Ï£ºÏ≤¥ÏóêÎäî ÌñâÏ†ïÏïàÏ†ÑÎ∂Ä, ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä, ÌôòÍ≤ΩÎ∂Ä, Í∏∞ÏÉÅÏ≤≠Ïù¥ ÏûàÎã§.' },
                    { text: 'ÏÑ∏Ï∞®Ìï† ÎïåÎäî ÏûêÎèô ÏÑ∏Ï∞®Ïû•ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Î¨º ÏÇ¨Ïö©ÏùÑ ÏµúÏÜåÌôîÌïúÎã§.', explanation: 'ÏÑ∏Ï∞®Ìï† ÎïåÎäî ÏûêÎèôÏû†Í∏àÏû•ÏπòÍ∞Ä ÏûàÎäî Ìò∏Ïä§Î•º Ïù¥Ïö©ÌïúÎã§.' },
                    { text: 'ÏÑ∏ÌÉÅÌï† ÎïåÎäî Ïñ¥ÎëêÏö¥ Ïò∑Í≥º Î∞ùÏùÄ Ïò∑ÏùÑ Íµ¨Î∂ÑÌïòÏó¨ ÏÑ∏ÌÉÅÌïúÎã§.', explanation: 'ÏÑ∏ÌÉÅÌï† ÎïåÎäî ÌïúÍ∫ºÎ≤àÏóê Î™®ÏïÑÏÑú ÌïúÎã§.' }
                ]
            },
            'ÎÇôÎ¢∞': {
                icon: '‚ö°',
                categories: {
                    201: 'ÎÇôÎ¢∞ ÏòàÏÉÅ Î∞è Î∞úÏÉù Ïãú',
                    202: 'ÎÇôÎ¢∞ ÏùëÍ∏âÏ≤òÏπò ÌñâÎèôÏöîÎ†π'
                },
                correct: [
                    { text: 'ÌÉúÌíç¬∑Ìò∏Ïö∞Í∞Ä ÏòàÎ≥¥Îêú ÎïåÏóê Ïù¥Î•º ÎèôÎ∞òÌïòÎäî Í≤ΩÏö∞Í∞Ä ÎßéÏúºÎØÄÎ°ú ÏÇ¨Ï†ÑÏóê Í±∞Ï£º ÏßÄÏó≠Ïóê ÏòÅÌñ•ÏùÑ Ï£ºÎäî ÏãúÍ∏∞Î•º ÌååÏïÖÌïúÎã§.', category: 201 },
                    { text: 'ÏÇ∞ ÏúÑ ÏïîÎ≤ΩÏù¥ÎÇò ÌÇ§ ÌÅ∞ ÎÇòÎ¨¥ Î∞ëÏùÄ ÏúÑÌóòÌïòÎØÄÎ°ú ÎÇÆÏùÄ ÏûêÏÑ∏Î°ú ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú Îπ®Î¶¨ ÎåÄÌîºÌïúÎã§.', category: 201 },
                    { text: 'Ïô∏Ï∂úÏùÑ ÏÇºÍ∞ÄÍ≥† Ïô∏Î∂ÄÏóê ÏûàÏùÑ Îïê ÏûêÎèôÏ∞® Ïïà, Í±¥Î¨º Ïïà, ÏßÄÌïò Îì± ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú ÎåÄÌîºÌïúÎã§.', category: 201 },
                    { text: 'Í≥®ÌîÑ, ÎÇöÏãú Îì± ÏïºÏô∏ÌôúÎèô Ï§ëÏùº Îïå Ïû•ÎπÑÎ•º Î™∏ÏóêÏÑú Îñ®Ïñ¥Îú®Î¶¨Í≥†, ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú ÎåÄÌîºÌïúÎã§.', category: 201 },
                    { text: 'Ï†ÑÍ∏∞Ï†úÌíàÏùò ÌîåÎü¨Í∑∏Î•º ÎπºÍ≥†, 1m Ïù¥ÏÉÅ Í±∞Î¶¨Î•º Ïú†ÏßÄÌïúÎã§.', category: 201 },
                    { text: 'ÏÉ§ÏõåÎÇò ÏÑ§Í±∞ÏßÄ Îì±ÏùÑ ÌïòÏßÄ ÏïäÎäîÎã§.', category: 201 },
                    { text: 'ÎÜíÏùÄ Í≥≥ÏùÄ ÏúÑÌóòÌïòÎØÄÎ°ú Ïã†ÏÜçÌûà ÎÇÆÏùÄ ÏßÄÎåÄÎ°ú Ïù¥ÎèôÌïúÎã§.', category: 201 },
                    { text: 'ÎåÄÌîº ÎïåÏóêÎäî ÏßÄÎ©¥ÏóêÏÑú 10cm Ï†ïÎèÑ Ïù¥ÏÉÅ ÎÜíÏùÄ Ï†àÏó∞Ï≤¥ ÏúÑÏóê ÏûàÎäî Í≤ÉÏù¥ Ï¢ãÎã§.', category: 201 },
                    { text: 'Ï†ïÏÉÅÎ∂Ä ÏïîÎ≤Ω ÏúÑÎÇò ÌÇ§ ÌÅ∞ ÎÇòÎ¨¥ Î∞ëÏùÄ ÏúÑÌóòÌïòÎØÄÎ°ú Ï¶âÏãú ÏïàÏ†ÑÌïú Ïû•ÏÜåÎ°ú Ïù¥ÎèôÌïúÎã§.', category: 201 },
                    { text: '30-30 ÏïàÏ†ÑÍ∑úÏπôÏùÑ ÏßÄÌÇ®Îã§.', category: 201 },
                    { text: 'Î™∏Ïùò ÏïàÏ™Ω ÍπäÏàôÏù¥ÍπåÏßÄ ÌôîÏÉÅÏùÑ ÏûÖÌûàÎäî Í≤ΩÏö∞Í∞Ä ÏûàÏúºÎØÄÎ°ú Îπ†Î•¥Í≤å Î≥ëÏõêÏóêÏÑú ÏùëÍ∏â ÏßÑÏ∞∞ÏùÑ Î∞õÎèÑÎ°ù ÌïúÎã§.', category: 202 },
                    { text: 'Î™∏ÏóêÏÑú Ïù¥Í≤ÉÏù¥ Îì§Ïñ¥Í∞ÄÍ≥† Îπ†Ï†∏ ÎÇòÏò® Î∂ÄÏúÑÏùò ÌôîÏÉÅÏùÑ Ï≤¥ÌÅ¨ÌïúÎã§.', category: 202 },
                    { text: 'Ïù¥Í≤ÉÏúºÎ°úÎ∂ÄÌÑ∞ ÏïàÏ†ÑÌïú Ïû•ÏÜåÎ°ú Ï£ºÎ≥ÄÏù∏Îì§Í≥º Ìï®Íªò ÌîºÌï¥ÏûêÎ•º ÏòÆÍ∏∞Í≥† ÏùòÏãù Ïó¨Î∂ÄÎ•º ÏÇ¥ÌïÄÎã§.', category: 202 },
                    { text: 'Ïã†Í≤ΩÍ≥Ñ ÌîºÌï¥, Í≥®Ï†à, Ï≤≠Í∞ÅÍ≥º ÏãúÍ∞ÅÏùò ÏÜêÏÉÅÏùÑ Ï≤¥ÌÅ¨ÌïúÎã§.', category: 202 }
                ],
                wrong: [
                    { text: 'ÏÇ∞ ÏúÑ ÏïîÎ≤ΩÏùÄ ÎπÑÎ∞îÎûåÏùÑ ÏùºÎ∂Ä ÎßâÏïÑÏ£ºÎØÄÎ°ú, Ï£ºÎ≥ÄÏúºÎ°ú ÎåÄÌîºÌïúÎã§.', explanation: 'ÏÇ∞ ÏúÑ ÏïîÎ≤ΩÏù¥ÎÇò ÌÇ§ ÌÅ∞ ÎÇòÎ¨¥ Î∞ëÏùÄ ÏúÑÌóòÌïòÎØÄÎ°ú ÎÇÆÏùÄ ÏûêÏÑ∏Î°ú ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú Îπ®Î¶¨ ÎåÄÌîºÌïúÎã§.' },
                    { text: 'ÏÉ§Ïõå, ÏÑ§Í±∞ÏßÄ Îì± Ïã§ÎÇ¥ÏóêÏÑú Ïù¥Î£®Ïñ¥ÏßÄÎäî ÏÉùÌôúÏùÄ ÏúÑÌóòÏÑ±Ïù¥ ÏóÜÎã§.', explanation: 'ÏÉ§ÏõåÎÇò ÏÑ§Í±∞ÏßÄ Îì±ÏùÑ ÌïòÏßÄ ÏïäÎäîÎã§.' },
                    { text: '20-20 ÏïàÏ†ÑÍ∑úÏπôÏùÑ ÏßÄÌÇ®Îã§.', explanation: '30-30 ÏïàÏ†ÑÍ∑úÏπôÏùÑ ÏßÄÌÇ®Îã§.' },
                    { text: 'Í≥®ÌîÑÎÇò ÎÇöÏãú Îì± ÏïºÏô∏ÌôúÎèô Ï§ëÏùº Îïê Ïû•ÎπÑÍ∞Ä ÎÇ†ÏïÑÍ∞ÄÏßÄ ÏïäÎèÑÎ°ù ÏÑ∏Í≤å Ïû°Í≥† ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú ÎåÄÌîºÌïúÎã§.', explanation: 'Í≥®ÌîÑ, ÎÇöÏãú Îì± ÏïºÏô∏ÌôúÎèô Ï§ëÏùº Îïå Ïû•ÎπÑÎ•º Î™∏ÏóêÏÑú Îñ®Ïñ¥Îú®Î¶¨Í≥†, ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú ÎåÄÌîºÌïúÎã§.' },
                    { text: 'ÌÉúÌíç¬∑Ìò∏Ïö∞Í∞Ä ÏòàÎ≥¥ÎèºÎèÑ Í±∞Ï£º ÏßÄÏó≠Ïóê ÏòÅÌñ•ÏùÑ Ï£ºÎäî ÏãúÍ∏∞Îäî ÌååÏïÖÌï† ÌïÑÏöîÍ∞Ä ÏóÜÎã§.', explanation: 'ÌÉúÌíç¬∑Ìò∏Ïö∞Í∞Ä ÏòàÎ≥¥Îêú ÎïåÏóê Ïù¥Î•º ÎèôÎ∞òÌïòÎäî Í≤ΩÏö∞Í∞Ä ÎßéÏúºÎØÄÎ°ú ÏÇ¨Ï†ÑÏóê Í±∞Ï£º ÏßÄÏó≠Ïóê ÏòÅÌñ•ÏùÑ Ï£ºÎäî ÏãúÍ∏∞Î•º ÌååÏïÖÌïúÎã§.' }
                ]
            },
            'ÏßÄÏßÑ': {
                icon: 'üåç',
                categories: {
                    301: 'ÏßÄÏßÑ ÌèâÏÜå ÎåÄÎπÑ',
                    302: 'ÏßÄÏßÑ Î∞úÏÉù Ïãú',
                    303: 'ÏßÄÏßÑ ÎåÄÌîº ÌõÑ'
                },
                correct: [
                    { text: 'Ïßë ÏïàÏóêÏÑú ÎåÄÌîºÌï† Ïàò ÏûàÎäî ÏïàÏ†ÑÌïú ÎåÄÌîº Í≥µÍ∞ÑÏùÑ ÎØ∏Î¶¨ ÌååÏïÖÌï¥ÎëîÎã§.', category: 301 },
                    { text: 'ÌÖîÎ†àÎπÑÏ†Ñ, ÍΩÉÎ≥ë Îì± Îñ®Ïñ¥Ïßà Ïàò ÏûàÎäî Î¨ºÍ±¥ÏùÄ ÎÜíÏùÄ Í≥≥Ïóê ÎëêÏßÄ ÏïäÎèÑÎ°ù ÌïúÎã§.', category: 301 },
                    { text: 'Í±¥Î¨ºÏùò Í∑†Ïó¥ÏùÑ Î∞úÍ≤¨ÌïòÎ©¥ Ï†ÑÎ¨∏Í∞ÄÏóêÍ≤å Î¨∏ÏùòÌïòÏó¨ Î≥¥ÏàòÌïòÍ≥† Î≥¥Í∞ïÌïúÎã§.', category: 301 },
                    { text: 'Í∞ÄÏä§ Î∞è Ï†ÑÍ∏∞Î•º Ï∞®Îã®ÌïòÎäî Î∞©Î≤ïÏùÑ ÏïåÏïÑÎëîÎã§.', category: 301 },
                    { text: 'Ïù¥Í≤ÉÏù¥ Î∞úÏÉùÌï† Îïå ÌôîÏû¨Í∞Ä Î∞úÏÉùÌï† Ïàò ÏûàÏúºÎãà ÏÜåÌôîÍ∏∞Î•º Ï§ÄÎπÑÌï¥ ÎëêÍ≥†, ÏÇ¨Ïö©Î∞©Î≤ïÏùÑ ÏïåÏïÑÎëîÎã§.', category: 301 },
                    { text: 'ÌÉÅÏûê ÏïÑÎûòÎ°ú Îì§Ïñ¥Í∞Ä Î™∏ÏùÑ Î≥¥Ìò∏ÌïòÍ≥†, ÌÉÅÏûê Îã§Î¶¨Î•º Íº≠ Ïû°ÎäîÎã§.', category: 302 },
                    { text: 'Í≥ÑÎã®ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Ïã†ÏÜçÌïòÍ≤å Ïù¥ÎèôÌïòÎ©∞, ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞Î•º ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäîÎã§.', category: 302 },
                    { text: 'Í∞ÄÎ∞©Ïù¥ÎÇò ÏÜêÏúºÎ°ú Î®∏Î¶¨Î•º Î≥¥Ìò∏ÌïòÎ©∞, Í±¥Î¨ºÍ≥º Í±∞Î¶¨Î•º ÎëêÍ≥† Ï£ºÏúÑÎ•º ÏÇ¥ÌîºÎ©∞ ÎåÄÌîºÌïúÎã§.', category: 302 },
                    { text: 'Ï†ÑÍ∏∞ÏôÄ Í∞ÄÏä§Î•º Ï∞®Îã®ÌïòÍ≥† Î¨∏ÏùÑ Ïó¥Ïñ¥ Ï∂úÍµ¨Î•º ÌôïÎ≥¥Ìïú ÌõÑ, Î∞ñÏúºÎ°ú ÎÇòÍ∞ÑÎã§.', category: 302 },
                    { text: 'ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ ÏïàÏóê ÏûàÏùÑ Í≤ΩÏö∞ÏóêÎäî Î™®Îì† Ï∏µÏùò Î≤ÑÌäºÏùÑ ÎàåÎü¨ Î®ºÏ†Ä Ïó¥Î¶¨Îäî Ï∏µÏóêÏÑú ÎÇ¥Î¶∞Îã§.', category: 302 },
                    { text: 'Ïò∑Ïû•Ïù¥ÎÇò ÏÇ¨Î¨¥Ïã§ Î≥¥Í¥ÄÌï® Îì±Ïùò ÎÇ¥Ïö©Î¨ºÏù¥ ÏèüÏïÑÏ†∏ ÎÇ¥Î†§ Î∂ÄÏÉÅÏùÑ ÏûÖÏùÑ ÏàòÎèÑ ÏûàÏúºÎØÄÎ°ú Î¨∏ÏùÑ Ïó¥ Îïå Ï£ºÏùòÌïúÎã§.', category: 303 },
                    { text: 'ÏßÄÏßÑÏù¥ Î∞úÏÉùÌïòÎ©¥ ÎùºÎîîÏò§ Î∞è Ï£ºÎ≥ÄÏóê ÏûàÎäî Í≥µÍ≥µÍ∏∞Í¥ÄÏù¥ Ï†úÍ≥µÌïòÎäî Ï†ïÎ≥¥Ïóê Îî∞Îùº ÌñâÎèôÌïòÎ©∞, Í∑ÄÍ∞ÄÏó¨Î∂ÄÎ•º ÌåêÎã®ÌïúÎã§.', category: 303 }
                ],
                wrong: [
                    { text: 'Í∞ÄÎ∞©¬∑ÏÜêÏúºÎ°ú Î®∏Î¶¨Î•º Î≥¥Ìò∏ÌïòÎ©∞ ÎåÄÌîºÌïòÎêò, Í±¥Î¨ºÍ≥º ÎÑàÎ¨¥ Î©ÄÎ¶¨ Îñ®Ïñ¥ÏßÄÎ©¥ ÎÇôÌïòÎ¨ºÎ≥¥Îã§ Ï∞®Îüâ Ïù¥Îèô ÏúÑÌóòÏù¥ Îçî Ïª§Ïßà Ïàò ÏûàÎã§.', explanation: 'Í∞ÄÎ∞©Ïù¥ÎÇò ÏÜêÏúºÎ°ú Î®∏Î¶¨Î•º Î≥¥Ìò∏ÌïòÎ©∞, Í±¥Î¨ºÍ≥º Í±∞Î¶¨Î•º ÎëêÍ≥† Ï£ºÏúÑÎ•º ÏÇ¥ÌîºÎ©∞ ÎåÄÌîºÌïúÎã§.' },
                    { text: 'ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ ÏïàÏóê ÏûàÏùÑ Í≤ΩÏö∞ÏóêÎäî 1Ï∏µ Î≤ÑÌäºÎßå ÎàåÎü¨ 1Ï∏µÏóê ÎÇ¥Î¶∞Îã§.', explanation: 'ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ ÏïàÏóê ÏûàÏùÑ Í≤ΩÏö∞ÏóêÎäî Î™®Îì† Ï∏µÏùò Î≤ÑÌäºÏùÑ ÎàåÎü¨ Î®ºÏ†Ä Ïó¥Î¶¨Îäî Ï∏µÏóêÏÑú ÎÇ¥Î¶∞Îã§.' },
                    { text: 'ÎÜíÏùÄ Í±¥Î¨ºÏóê ÏûàÏùÑ Ïãú, Îπ†Î•¥Í≤å ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú Ïù¥ÎèôÌïòÍ∏∞ ÏúÑÌï¥ ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞Î•º ÌôúÏö©ÌïúÎã§.', explanation: 'Í≥ÑÎã®ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Ïã†ÏÜçÌïòÍ≤å Ïù¥ÎèôÌïòÎ©∞, ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞Î•º ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäîÎã§.' }
                ]
            },
            'Ìò∏Ïö∞': {
                icon: 'üåßÔ∏è',
                categories: {
                    401: 'Ìò∏Ïö∞ ÏÇ¨Ï†Ñ Ï§ÄÎπÑ',
                    402: 'Ìò∏Ïö∞ÌäπÎ≥¥ ÏòàÎ≥¥Ïãú',
                    403: 'Ìò∏Ïö∞ÌäπÎ≥¥ Ï§ë',
                    404: 'Ìò∏Ïö∞ Ïù¥ÌõÑ'
                },
                correct: [
                    { text: 'Ï£ºÎ≥ÄÏùò Î∞∞ÏàòÎ°ú, ÎπóÎ¨ºÎ∞õÏù¥Îäî ÏàòÏãúÎ°ú Ï≤≠ÏÜåÎ•º Ïã§ÏãúÌïúÎã§.', category: 401 },
                    { text: 'ÎπÑÌÉàÎ©¥, ÏòπÎ≤Ω, Ï∂ïÎåÄ Îì±Ïóê Í∑†Ïó¥Ïù¥ ÏûàÎäîÏßÄ Ï†êÍ≤ÄÌïúÎã§.', category: 401 },
                    { text: 'ÏÑ†Î∞ïÏùÄ Îã®Îã®Ìûà Í≤∞Î∞ïÌïòÍ±∞ÎÇò Ïú°ÏßÄÎ°ú Ïù∏ÏñëÌïúÎã§.', category: 402 },
                    { text: 'Ïπ®ÏàòÍ∞Ä ÏòàÏÉÅÎêòÎäî ÏïÑÌååÌä∏ ÏßÄÌïòÏ£ºÏ∞®Ïû•, Í±¥Î¨º Îì±ÏóêÏÑúÎäî Î™®ÎûòÏ£ºÎ®∏Îãà, Î¨ºÎßâÏù¥ Ìåê Îì±ÏùÑ Ïù¥Ïö©ÌïòÏó¨ ÌîºÌï¥Î•º ÏòàÎ∞©ÌïúÎã§.', category: 402 },
                    { text: 'Ïπ®ÏàòÎêú ÎèÑÎ°ú, ÏßÄÌïòÏ∞®ÎèÑ, ÍµêÎüâ Îì±ÏùÄ ÏÇ¨ÎûåÍ≥º Ï∞®ÎüâÏùò ÌÜµÌñâÏùÑ ÏóÑÍ≤©Ìûà Í∏àÏßÄÌïúÎã§.', category: 403 },
                    { text: 'Í±¥Î¨º ÏïàÏóê Î¨ºÏù¥ Ï°∞Í∏àÏù¥ÎùºÎèÑ Ï∞®Ïò§Î•º Í≤ΩÏö∞ Ï¶âÏãú ÎÜíÏùÄ Í≥≥ ÌòπÏùÄ Ï£ºÎ≥Ä ÎåÄÌîºÏû•ÏÜåÎ°ú Ïù¥ÎèôÌïúÎã§.', category: 403 },
                    { text: 'Ïπ®ÏàòÎêú ÎèÑÎ°úÎÇò ÍµêÎüâÏùÄ ÌååÏÜêÎêòÏóàÏùÑ Ïàò ÏûàÏúºÎØÄÎ°ú Í±¥ÎÑàÏßÄ ÏïäÎäîÎã§.', category: 404 },
                    { text: 'Î¨ºÏù¥ Îπ†Ï†∏ÎÇòÍ∞ÄÍ≥† ÏûàÏùÑ ÎïåÏóêÎäî Í∏∞Î¶ÑÏù¥ÎÇò ÎèôÎ¨º ÏÇ¨Ï≤¥ Îì± Ïò§ÏóºÎêú Í≤ΩÏö∞Í∞Ä ÎßéÏúºÎØÄÎ°ú Î¨ºÏóêÏÑú Î©ÄÎ¶¨ Îñ®Ïñ¥Ï†∏ ÏûàÎèÑÎ°ù ÌïúÎã§.', category: 404 },
                    { text: 'Ïπ®ÏàòÎêú ÏùåÏãùÏù¥ÎÇò Ïû¨Î£åÎäî ÏãùÏ§ëÎèÖÏùò ÏúÑÌóòÏù¥ ÏûàÏúºÎØÄÎ°ú ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäîÎã§.', category: 404 },
                    { text: 'Ïπ®ÏàòÎêú Ï£ºÌÉùÏùÄ Í∞ÄÏä§ÏôÄ Ï†ÑÍ∏∞ Ï∞®Îã®Í∏∞Í∞Ä ÎÇ¥Î†§Í∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏ÌïúÎã§.', category: 404 },
                    { text: 'Ïì∞Îü¨ÏßÑ ÎÜçÏûëÎ¨ºÏùÄ ÏùºÏúºÏºú ÏÑ∏Ïö∞Í≥†, Ïπ®ÏàòÎêú ÎÖºÍ≥º Î∞≠ÏùÑ Î∞∞ÏàòÌï† ÎïåÏóêÎäî ÏûëÎ¨ºÏóê Î¨ªÏùÄ Ìùô, Ïò§Î¨º Îì±ÏùÑ ÏîªÏñ¥ÎÇ¥Í≥† Í∏¥Í∏â Î≥ëÌï¥Ï∂© Î∞©Ï†úÎ•º Ïã§ÏãúÌïúÎã§.', category: 404 }
                ],
                wrong: [
                    { text: 'ÏÑ†Î∞ïÏùÑ Ïú°ÏßÄÏóê Ïù∏ÏñëÌïòÍ∏∞ Î≥¥Îã® Í∑∏ÎåÄÎ°ú ÎëîÎã§.', explanation: 'ÏÑ†Î∞ïÏùÄ Îã®Îã®Ìûà Í≤∞Î∞ïÌïòÍ±∞ÎÇò Ïú°ÏßÄÎ°ú Ïù∏ÏñëÌïúÎã§.' },
                    { text: 'Ïπ®ÏàòÎêú ÏùåÏãùÏù¥ÎÇò Ïû¨Î£åÎäî Îã¥ÏàòÎ°ú ÏîªÏñ¥ÎÇ¥Ïñ¥ ÏÇ¨Ïö©ÌïúÎã§.', explanation: 'Ïπ®ÏàòÎêú ÏùåÏãùÏù¥ÎÇò Ïû¨Î£åÎäî ÏãùÏ§ëÎèÖÏùò ÏúÑÌóòÏù¥ ÏûàÏúºÎØÄÎ°ú ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäîÎã§.' },
                    { text: 'Ïπ®ÏàòÎêú ÎèÑÎ°ú, ÏßÄÌïòÏ∞®ÎèÑ, ÍµêÎüâ Îì±ÏùÄ ÏÇ¨ÎûåÍ≥º Ï∞®ÎüâÏùò ÌÜµÌñâÏùÄ Ï∞®Îüâ Ïù¥Ïö©ÏûêÏùò ÌåêÎã®Ïóê Îß°Í∏¥Îã§.', explanation: 'Ïπ®ÏàòÎêú ÎèÑÎ°ú, ÏßÄÌïòÏ∞®ÎèÑ, ÍµêÎüâ Îì±ÏùÄ ÏÇ¨ÎûåÍ≥º Ï∞®ÎüâÏùò ÌÜµÌñâÏùÑ ÏóÑÍ≤©Ìûà Í∏àÏßÄÌïúÎã§.' },
                    { text: 'Í±¥Î¨º ÏïàÏóê Î¨ºÏù¥ Ï°∞Í∏àÏù¥ÎùºÎèÑ Ï∞®Ïò§Î•º Í≤ΩÏö∞ Ï¶âÏãú ÎåÄÌîºÌïòÍ∏∞Î≥¥Îã® Î¨∏ÌãàÏùÑ ÎßâÍ≥† Ïù¥ÎèôÌïòÎäî Í≤ÉÏù¥ Ï¢ãÎã§.', explanation: 'Í±¥Î¨º ÏïàÏóê Î¨ºÏù¥ Ï°∞Í∏àÏù¥ÎùºÎèÑ Ï∞®Ïò§Î•º Í≤ΩÏö∞ Ï¶âÏãú ÎÜíÏùÄ Í≥≥ ÌòπÏùÄ Ï£ºÎ≥Ä ÎåÄÌîºÏû•ÏÜåÎ°ú Ïù¥ÎèôÌïúÎã§.' }
                ]
            },
            'Ìè≠Ïóº': {
                icon: 'üå°Ô∏è',
                categories: {
                    501: 'ÌèâÏÉÅÏãú Î∞è Ìè≠ÏóºÎ∞úÏÉù Ïãú ÌñâÎèôÏöîÎ†π',
                    502: 'Ìè≠Ïóº Í¥ÄÎ†® Ï†ïÎ≥¥'
                },
                correct: [
                    { text: 'ÏóêÏñ¥Ïª®, ÏÑ†ÌíçÍ∏∞ Îì±ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù ÏÇ¨Ï†ÑÏóê Ï†ïÎπÑÌïúÎã§.', category: 501 },
                    { text: 'ÏßëÏïà Ï∞ΩÎ¨∏Ïóê ÏßÅÏÇ¨Í¥ëÏÑ†ÏùÑ Ï∞®Îã®Ìï† Ïàò ÏûàÎèÑÎ°ù Ïª§ÌäºÏù¥ÎÇò Ï≤ú, ÌïÑÎ¶Ñ Îì±ÏùÑ ÏÑ§ÏπòÌïúÎã§.', category: 501 },
                    { text: 'Ìú¥ÏãùÏãúÍ∞ÑÏùÄ Ïû•ÏãúÍ∞Ñ Ìïú Î≤àÏóê Ïâ¨Í∏∞Î≥¥Îã§Îäî ÏßßÍ≤å ÏûêÏ£º Í∞ñÎäî Í≤ÉÏù¥ Ï¢ãÎã§.', category: 501 },
                    { text: 'ÎπÑÎãêÌïòÏö∞Ïä§, Ï∂ïÏÇ¨ Ï≤úÏû• Îì±Ïóê Î¨º Î∂ÑÎ¨¥ Ïû•ÏπòÎ•º ÏÑ§ÏπòÌïòÏó¨ Î≥µÏÇ¨Ïó¥ÏùÑ ÎÇÆÏ∂òÎã§.', category: 501 },
                    { text: 'Ï∂ïÏÇ¨ Ï∞ΩÎ¨∏ÏùÑ Í∞úÎ∞©ÌïòÍ≥† ÏßÄÏÜçÏ†ÅÏù∏ ÌôòÍ∏∞Î•º Ïã§ÏãúÌïòÎ©∞, Ï†ÅÏ†ï ÏÇ¨Ïú° Î∞ÄÎèÑÎ•º Ïú†ÏßÄÌïúÎã§.', category: 501 },
                    { text: 'ÏùºÏµúÍ≥†Ï≤¥Í∞êÏò®ÎèÑÍ∞Ä ÏÑ≠Ïî® 33ÎèÑ Ïù¥ÏÉÅÏù∏ ÏÉÅÌÉúÍ∞Ä 2Ïùº Ïù¥ÏÉÅ ÏßÄÏÜçÎê† Í≤ÉÏúºÎ°ú ÏòàÏÉÅÎê† Îïå Ï£ºÏùòÎ≥¥Í∞Ä Î∞úÎ†πÎêúÎã§', category: 502 },
                    { text: 'ÏùºÏµúÍ≥†Ï≤¥Í∞êÏò®ÎèÑÍ∞Ä ÏÑ≠Ïî® 35ÎèÑ Ïù¥ÏÉÅÏù∏ ÏÉÅÌÉúÍ∞Ä 2Ïùº Ïù¥ÏÉÅ ÏßÄÏÜçÎê† Í≤ÉÏúºÎ°ú ÏòàÏÉÅÎê† Îïå Í≤ΩÎ≥¥Í∞Ä Î∞úÎ†πÎêúÎã§.', category: 502 },
                    { text: 'Ïã¨Ìïú ÎëêÌÜµ, Ïò§Ìïú, ÎπàÎß•, ÎπàÌò∏Ìù°, Ï†ÄÌòàÏïïÏù¥ Î∞úÏÉùÌï† Ïàò ÏûàÎã§.', category: 502 },
                    { text: 'Ïó¥ÌÉàÏßÑ, Ïó¥Í≤ΩÎ†®, Ïó¥Î∂ÄÏ¢Ö, Ïó¥Î∞úÏßÑÍ≥º Í∞ôÏùÄ Îã§ÏñëÌïú ÏßàÎ≥ëÍ≥º Í¥ÄÎ†®ÎêúÎã§.', category: 502 }
                ],
                wrong: [
                    { text: 'ÌÉúÏñëÎ≥ïÏóêÏÑú ÎÖ∏ÎèôÏùÑ ÌïòÎäî Í≤ΩÏö∞, Ïû•ÏãúÍ∞Ñ Í∞ÄÎÅî Ìú¥ÏãùÏãúÍ∞ÑÏùÑ Í∞ñÎèÑÎ°ù ÌïúÎã§.', explanation: 'Ìú¥ÏãùÏãúÍ∞ÑÏùÄ Ïû•ÏãúÍ∞Ñ Ìïú Î≤àÏóê Ïâ¨Í∏∞Î≥¥Îã§Îäî ÏßßÍ≤å ÏûêÏ£º Í∞ñÎäî Í≤ÉÏù¥ Ï¢ãÎã§.' },
                    { text: 'ÏùºÏµúÍ≥†Ï≤¥Í∞êÏò®ÎèÑÍ∞Ä ÏÑ≠Ïî® 33ÎèÑ Ïù¥ÏÉÅÏù∏ ÏÉÅÌÉúÍ∞Ä 2Ïùº Ïù¥ÏÉÅ ÏßÄÏÜçÎê† Í≤ÉÏúºÎ°ú ÏòàÏÉÅÎê† Îïå Í≤ΩÎ≥¥Í∞Ä Î∞úÎ†πÎêúÎã§.', explanation: 'ÏùºÏµúÍ≥†Ï≤¥Í∞êÏò®ÎèÑÍ∞Ä ÏÑ≠Ïî® 33ÎèÑ Ïù¥ÏÉÅÏù∏ ÏÉÅÌÉúÍ∞Ä 2Ïùº Ïù¥ÏÉÅ ÏßÄÏÜçÎê† Í≤ÉÏúºÎ°ú ÏòàÏÉÅÎê† Îïå Ï£ºÏùòÎ≥¥Í∞Ä Î∞úÎ†πÎêúÎã§' },
                    { text: 'Ïã¨Ìïú ÎëêÌÜµ, Ïò§Ìïú, ÎπàÎß•, ÎπàÌò∏Ìù°, Ï†ÄÌòàÏïïÏù¥ Î∞úÏÉùÌïòÏßÄ ÏïäÎäîÎã§.', explanation: 'Ïã¨Ìïú ÎëêÌÜµ, Ïò§Ìïú, ÎπàÎß•, ÎπàÌò∏Ìù°, Ï†ÄÌòàÏïïÏù¥ Î∞úÏÉùÌï† Ïàò ÏûàÎã§.' }
                ]
            }
        };

        // ÏÇ¨ÌöåÏû¨ÎÇú Îç∞Ïù¥ÌÑ∞ (Ïò§ÎãµÏóê explanation Ï∂îÍ∞Ä)
        const SOCIAL_DISASTERS = {
            'ÏÇ∞Î∂à': {
                icon: 'üî•',
                categories: {
                    101: 'ÏÇ∞Î∂à ÌèâÏÜå ÎåÄÎπÑ',
                    102: 'ÏÇ∞Î∂à Î∞úÏÉù Ïãú Ï§ÄÎπÑ',
                    103: 'ÏÇ∞Î∂à Î∞úÏÉù Ïãú ÎåÄÌîº',
                    104: 'ÏÇ∞Î∂à ÏßÑÌôî ÌõÑ ÌñâÎèô'
                },
                correct: [
                    { text: 'ÏÇ∞Í≥º Í∞ÄÍπåÏö¥ Í≥≥ÏóêÏÑú Ïì∞Î†àÍ∏∞, ÏòÅÎÜçÎ∂ÄÏÇ∞Î¨º Îì±ÏùÑ ÏÜåÍ∞ÅÌïòÏßÄ ÏïäÎäîÎã§.', category: 101 },
                    { text: 'ÏßÄÎ∂ï, ÌÖåÎùºÏä§ Îì±Ïóê ÎÇôÏóΩÏù¥ÎÇò ÏûëÏùÄ Í∞ÄÏßÄÍ∞Ä ÏåìÏù¥ÏßÄ ÏïäÎèÑÎ°ù Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Ï†ïÎ¶¨ÌïúÎã§.', category: 101 },
                    { text: 'ÏßëÏóêÏÑú 1.5m Ïù¥ÎÇ¥Ïùò ÏßÄÎ©¥ÏóêÎäî ÎêòÎèÑÎ°ù Îèå, Î™®Îûò, Ìùô Îì±Í≥º Í∞ôÏùÄ Î∂àÏó∞ÏÑ± Ïû¨Î£åÎ•º ÏÇ¨Ïö©ÌïúÎã§.', category: 101 },
                    { text: 'Ïßë Ï∞ΩÎ¨∏ Í∑ºÏ≤òÏóêÎäî ÌÅ∞ ÏãùÎ¨ºÏù¥ÎÇò Îç§Î∂à ÎåÄÏã† ÏûëÍ≥† ÏàòÎ∂ÑÏù¥ ÎßéÏùÄ ÏãùÎ¨ºÏùÑ Í∞ÄÍæ∏ÎèÑÎ°ù ÌïúÎã§.', category: 101 },
                    { text: 'ÏßëÏ£ºÎ≥ÄÏùò Ïì∞Î†àÍ∏∞, Í±¥Ï¥à, Í±¥Ï∂ïÏûêÏû¨ Îì±Ïùò Í∞ÄÏó∞Î¨ºÏùÄ ÎêòÎèÑÎ°ù 1.5m Ïù¥ÏÉÅ Îñ®Ïñ¥ÏßÑ Í≥≥Ïóê Î≥¥Í¥ÄÌïúÎã§.', category: 101 },
                    { text: 'Î™®Îì† Ï∞ΩÎ¨∏Í≥º Î¨∏ÏùÑ Îã´ÎèÑÎ°ù ÌïúÎã§.', category: 102 },
                    { text: 'Ïßë Ï£ºÏúÑÏóê Ï∂©Î∂ÑÌïú Î¨ºÏùÑ ÎøåÎ†§ ÎëîÎã§.', category: 102 },
                    { text: 'Ïßë Ï£ºÏúÑÏóê ÏûàÎäî Ïä§ÌîÑÎßÅÌÅ¥Îü¨ÎÇò Ìò∏Ïä§Ïùò Î¨ºÏùÑ ÌùêÎ•¥Îäî ÏÉÅÌÉúÎ°ú ÎëêÏßÄ ÏïäÎäîÎã§.', category: 102 },
                    { text: 'Ïô∏Î∂Ä Ï°∞Î™ÖÏùÑ ÏºúÎëêÏñ¥ Ïó∞Í∏∞ÎÇò Ïñ¥Îë† ÏÜçÏóêÏÑúÎèÑ ÏÜåÎ∞©Í¥ÄÏù¥ ÏßëÏùÑ ÌôïÏù∏Ìï† Ïàò ÏûàÎèÑÎ°ù ÌïúÎã§.', category: 102 },
                    { text: 'ÎåÄÌîºÎ•º Í∂åÏû•ÌïòÎäî ÏßÄÏó≠Ïùò ÏïàÎÇ¥Í∞Ä ÏûàÎäî Í≤ΩÏö∞ Ï¶âÏãú ÏïàÎÇ¥Îêú Ïû•ÏÜåÎ°ú Ïù¥ÎèôÌïúÎã§.', category: 103 },
                    { text: 'ÎåÄÌîºÏû•ÏÜåÎ°ú Ïù¥Îèô Ïãú ÏÇ∞Í≥º Î©ÄÎ¶¨ Îñ®Ïñ¥ÏßÑ ÎèÑÎ°úÎ•º Ïù¥Ïö©ÌïòÍ≥† ÏÇ∞Î∂àÏùò ÏßÑÌñâÍ≤ΩÎ°úÏóêÏÑú Î≤óÏñ¥ÎÇú ÏïàÏ†ÑÌïú Ïû•ÏÜåÎ°ú Ïù¥ÎèôÌïúÎã§.', category: 103 },
                    { text: 'ÏÇ∞Ìñâ Ï§ë ÎåÄÌîº Ïãú Í≥ÑÍ≥°Î∂ÄÎäî ÌîºÌïòÍ≥† Í∞ÄÎä•ÌïòÎ©¥ ÌôúÏóΩÏàòÍ∞Ä ÏûàÎäî Íµ¨Í∞ÑÏùÑ Îî∞Îùº Ïã†ÏÜçÌûà ÌïòÏÇ∞ÌïòÎèÑÎ°ù ÌïúÎã§.', category: 103 },
                    { text: 'Î∞îÎûåÏùÑ Îì±ÏßÄÍ≥† Ï£ºÎ≥ÄÏùò ÎÇôÏóΩ, Í∞ÄÏßÄ Îì±ÏùÑ Ï†úÍ±∞Ìïú ÌõÑ ÏóéÎìúÎ†§ ÎÇÆÏùÄ ÏûêÏÑ∏Î•º Ïú†ÏßÄÌïúÎã§.', category: 103 },
                    { text: 'ÏßëÏ£ºÎ≥Ä ÏÇ∞Ïóê Ïà®Í≤®ÏßÑ Î∂àÏî®Í∞Ä ÏûàÎäîÏßÄ Ï£ºÏùò ÍπäÍ≤å ÌôïÏù∏ÌïòÍ≥† ÏúÑÌóòÏù¥ Í∞êÏßÄÎêòÎ©¥ Ï¶âÏãú Ïã†Í≥†ÌïúÎã§.', category: 104 }
                ],
                wrong: [
                    { text: 'ÏÇ∞Ìñâ Ï§ë ÎåÄÌîºÌï† Îïå, Í≥ÑÍ≥°Î∂ÄÎ•º Îî∞Îùº ÎÇ¥Î†§Í∞ÄÎäî Í≤ÉÏù¥ ÏïàÏ†ÑÌïòÎã§.', explanation: 'ÏÇ∞Ìñâ Ï§ë ÎåÄÌîº Ïãú Í≥ÑÍ≥°Î∂ÄÎäî ÌîºÌïòÍ≥† Í∞ÄÎä•ÌïòÎ©¥ ÌôúÏóΩÏàòÍ∞Ä ÏûàÎäî Íµ¨Í∞ÑÏùÑ Îî∞Îùº Ïã†ÏÜçÌûà ÌïòÏÇ∞ÌïòÎèÑÎ°ù ÌïúÎã§.' },
                    { text: 'Î∞îÎûåÏù¥ Î∂àÏñ¥Ïò§Îäî Í≥≥ÏùÑ Ìñ•ÌïòÏó¨ ÎÇôÏóΩ, Í∞ÄÏßÄ Îì±ÏùÑ ÌîºÌïòÎ©∞ ÌïòÏÇ∞ÌïúÎã§.', explanation: 'Î∞îÎûåÏùÑ Îì±ÏßÄÍ≥† Ï£ºÎ≥ÄÏùò ÎÇôÏóΩ, Í∞ÄÏßÄ Îì±ÏùÑ Ï†úÍ±∞Ìïú ÌõÑ ÏóéÎìúÎ†§ ÎÇÆÏùÄ ÏûêÏÑ∏Î•º Ïú†ÏßÄÌïúÎã§.' },
                    { text: 'Ïßë Ï£ºÏúÑÏóê ÏûàÎäî Ïä§ÌîÑÎßÅÌÅ¥Îü¨ÎÇò Ìò∏Ïä§Ïùò Î¨ºÏùÑ ÌùêÎ•¥Í≤å ÌïòÏó¨ ÌôîÏû¨Ïùò Í∞ÄÎä•ÏÑ±ÏùÑ ÎÇÆÏ∂òÎã§.', explanation: 'Ïßë Ï£ºÏúÑÏóê ÏûàÎäî Ïä§ÌîÑÎßÅÌÅ¥Îü¨ÎÇò Ìò∏Ïä§Ïùò Î¨ºÏùÑ ÌùêÎ•¥Îäî ÏÉÅÌÉúÎ°ú ÎëêÏßÄ ÏïäÎäîÎã§.' },
                    { text: 'Ïßë Ï∞ΩÎ¨∏ Í∑ºÏ≤òÎäî ÌôîÏû¨ Ïãú ÌÉàÏ∂úÍµ¨Î°ú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏúºÎãà, Ï∞ΩÎ¨∏ Í∑ºÏ≤òÏóê ÌôîÎ∂Ñ Îì±Ïùò Ïû•ÏãùÎ¨ºÏùÑ ÎëêÏßÄ ÏïäÎäîÎã§.', explanation: 'Ïßë Ï∞ΩÎ¨∏ Í∑ºÏ≤òÏóêÎäî ÌÅ∞ ÏãùÎ¨ºÏù¥ÎÇò Îç§Î∂à ÎåÄÏã† ÏûëÍ≥† ÏàòÎ∂ÑÏù¥ ÎßéÏùÄ ÏãùÎ¨ºÏùÑ Í∞ÄÍæ∏ÎèÑÎ°ù ÌïúÎã§.' }
                ]
            },
            'ÎØ∏ÏÑ∏Î®ºÏßÄ': {
                icon: 'üò∑',
                categories: {
                    201: 'ÎØ∏ÏÑ∏Î®ºÏßÄ ÌñâÎèôÏöîÎ†π',
                    202: 'ÎØ∏ÏÑ∏Î®ºÏßÄÏùò ÌäπÏÑ±',
                    203: 'ÎØ∏ÏÑ∏Î®ºÏßÄ Ï†ïÎ≥¥ ÌôïÏù∏'
                },
                correct: [
                    { text: 'Ïû•ÏãúÍ∞Ñ ÎòêÎäî Î¨¥Î¶¨Ìïú Ïã§Ïô∏ÌôúÎèôÏùÑ Ï†úÌïúÌïúÎã§.', category: 201 },
                    { text: 'Î™©Ïùò ÌÜµÏ¶ùÍ≥º Í∏∞Ïπ® Îì±Ïùò Ï¶ùÏÉÅÏù¥ ÏûàÎäî ÏÇ¨ÎûåÏùÄ Ïã§Ïô∏ÌôúÎèôÏùÑ ÌîºÌï¥ÏïºÌïúÎã§.', category: 201 },
                    { text: 'Ï≤úÏãùÏùÑ ÏïìÍ≥† ÏûàÎäî Í≤ΩÏö∞, Ïã§Ïô∏ÏóêÏÑú Ìù°ÏûÖÍ∏∞Î•º Îçî ÏûêÏ£º ÏÇ¨Ïö©Ìï† ÌïÑÏöîÍ∞Ä ÏûàÎã§.', category: 201 },
                    { text: 'Î∂ÄÎìùÏù¥ Ïô∏Ï∂ú Ïãú Ìô©ÏÇ¨ ÎßàÏä§ÌÅ¨Î•º ÏÇ¨Ïö©ÌïúÎã§.', category: 201 },
                    { text: 'Ïù¥Í≤ÉÏùÄ ÎåÄÍ∏∞ Ï§ë ÏûÖÏûêÍ∞Ä ÎØ∏ÏÑ∏Ìïú ÌÅ¨Í∏∞Î°ú ÌÉÑÏÜåÏÑ±Î∂Ñ, Ïù¥Ïò®ÏÑ±Î∂Ñ, Í¥ëÎ¨ºÏÑ±Î∂Ñ Îì± Ï¢ÖÎ•òÏùò ÏÑ±Î∂ÑÏù¥ Îã§ÏñëÌïú ÌòºÌï©Î¨ºÏù¥Îã§.', category: 202 },
                    { text: 'ÏóêÏñ¥ÏΩîÎ¶¨ÏïÑÏóêÏÑú Ïù¥Í≤ÉÏóê ÎåÄÌïú Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÎã§.', category: 203 },
                    { text: 'Ïö∞Î¶¨ ÎèôÎÑ§ ÎåÄÍ∏∞Ïßà Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ ÌÜµÌï¥ Ïù¥Í≤ÉÏóê ÎåÄÌïú Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÎã§.', category: 203 }
                ],
                wrong: [
                    { text: 'Ïù¥Í≤ÉÏùÄ ÎåÄÍ∏∞ Ï§ë ÏûÖÏûêÍ∞Ä ÎØ∏ÏÑ∏Ìïú ÌÅ¨Í∏∞Î°ú ÏÑ±Î∂ÑÏùò Ï¢ÖÎ•òÍ∞Ä Îã§ÏñëÌïòÏßÄ ÏïäÏùÄ Î¨ºÏßàÏù¥Îã§.', explanation: 'Ïù¥Í≤ÉÏùÄ ÎåÄÍ∏∞ Ï§ë ÏûÖÏûêÍ∞Ä ÎØ∏ÏÑ∏Ìïú ÌÅ¨Í∏∞Î°ú ÌÉÑÏÜåÏÑ±Î∂Ñ, Ïù¥Ïò®ÏÑ±Î∂Ñ, Í¥ëÎ¨ºÏÑ±Î∂Ñ Îì± Ï¢ÖÎ•òÏùò ÏÑ±Î∂ÑÏù¥ Îã§ÏñëÌïú ÌòºÌï©Î¨ºÏù¥Îã§.' },
                    { text: 'Ï≤¥ÎÇ¥Ïóê ÏåìÏù∏ Ïù¥Í≤ÉÏùÑ Î∞∞Ï∂úÌïòÍ∏∞ ÏúÑÌï¥ÏÑú ÎØ∏Ïó≠ Îì±Ïùò Ìï¥Ï°∞Î•òÎäî ÎèÑÏõÄÏù¥ ÎêòÏßÄ ÏïäÎäîÎã§.', explanation: 'Ï≤¥ÎÇ¥Ïóê ÏåìÏù∏ Ïù¥Í≤ÉÏùÑ Î∞∞Ï∂úÌïòÍ∏∞ ÏúÑÌï¥ÏÑú ÎØ∏Ïó≠ Îì±Ïùò Ìï¥Ï°∞Î•òÎäî ÎèÑÏõÄÏù¥ ÎêúÎã§.' }
                ]
            },
            'Í±¥Ï∂ïÎ¨ºÎ∂ïÍ¥¥': {
                icon: 'üèöÔ∏è',
                categories: {
                    301: 'Í±¥Ï∂ïÎ¨º Î∂ïÍ¥¥ ÏßïÏ°∞Î•º ÎäêÎÇÑ Îïå ÎåÄÏ≤ò',
                    302: 'Î∂ïÍ¥¥Îêú Í±¥Ï∂ïÎ¨º ÎÇ¥Î∂ÄÏóê ÏûàÏùÑ Îïå ÎåÄÏ≤ò',
                    303: 'Î∂ïÍ¥¥Îêú Í±¥Ï∂ïÎ¨º Ïô∏Î∂ÄÏóê ÏûàÏùÑ Îïå ÎåÄÏ≤ò'
                },
                correct: [
                    { text: 'Í±¥Î¨º Î∞îÎã•Ïù¥ Í∞àÎùºÏßÄÍ±∞ÎÇò Ìï®Î™∞ÎêòÎäî ÌòÑÏÉÅÏù¥ Î∞úÏÉùÌï† Îïå ÎåÄÌîº Î∞è Ïã†Í≥†Î•º ÌïúÎã§.', category: 301 },
                    { text: 'Í∞ëÏûêÍ∏∞ Ï∞ΩÏù¥ÎÇò Î¨∏Ïù¥ Îí§ÌãÄÎ¶¨Í∞Ä Ïó¨Îã´Í∏∞Í∞Ä Í≥§ÎûÄÌïú Îïå ÎåÄÌîº Î∞è Ïã†Í≥†Î•º ÌïúÎã§.', category: 301 },
                    { text: 'Í∏∞Îë•Ïù¥ ÌúòÍ±∞ÎÇò ÎåÄÎ¶¨ÏÑù Îì± ÎßàÍ∞êÏû¨Í∞Ä Î∂ÄÎ∂ÑÏ†ÅÏúºÎ°ú Îñ®Ïñ¥Ï†∏ ÎÇòÍ∞à Îïå ÎåÄÌîº Î∞è Ïã†Í≥†Î•º ÌïúÎã§.', category: 301 },
                    { text: 'Î≤ΩÏù¥ÎÇò Î∞îÎã•Ïùò Í∑†Ïó¥ÏÜåÎ¶¨Í∞Ä ÏñºÏùåÏù¥ Íπ®ÏßÄÎäî ÎìØÏù¥ ÎÇòÎäî Îïå ÎåÄÌîº Î∞è Ïã†Í≥†Î•º ÌïúÎã§.', category: 301 },
                    { text: 'ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ ÌôÄ, Í≥ÑÎã®Ïã§ Îì±Í≥º Í∞ôÏù¥ Í≤¨ÎîîÎäî ÌûòÏù¥ Í∞ïÌïú Î≤ΩÏ≤¥Í∞Ä ÏûàÎäî ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú ÏûÑÏãú ÎåÄÌîºÌïúÎã§.', category: 302 },
                    { text: 'Í≥µÍ∏∞ Í≥µÍ∏âÏù¥ ÏûòÎêòÎäî Ï∞ΩÎ¨∏Ïù¥ÎÇò ÏÑ†Î∞òÏù¥ ÏóÜÎäî Î≤Ω Ï™ΩÏù¥ÎÇò ÎÇôÌïòÎ¨ºÎ°úÎ∂ÄÌÑ∞ Î≥¥Ìò∏Î∞õÏùÑ Ïàò ÏûàÎäî ÌäºÌäºÌïú ÌÖåÏù¥Î∏î Î∞ëÏóêÏÑú ÏûêÏÑ∏Î•º ÎÇÆÏ∂îÍ≥† Íµ¨Ï°∞Î•º Í∏∞Îã§Î¶∞Îã§.', category: 302 },
                    { text: 'Í≥†Î¶ΩÏù¥ Ïû•Í∏∞ÌôîÎê† Í≤ΩÏö∞Î•º Í≥†Î†§ÌïòÏó¨, ÎÉâÏû•Í≥† Îì±ÏóêÏÑú ÏùåÏãùÍ≥º Î¨ºÏùÑ Ï∞æÏïÑ Î®πÎêò Í∞ÄÎä•Ìïú Ìïú Ïò§Îûò Î≤ÑÌã∏ Ïàò ÏûàÎèÑÎ°ù ÏùåÏãùÎ¨ºÏùò ÏÜåÎπÑÎ•º Ï°∞Ï†àÌïúÎã§.', category: 302 },
                    { text: 'Ï∂îÍ∞Ä Î∂ïÍ¥¥ÏôÄ Í∞ÄÏä§ Ìè≠Î∞ú Îì±Ïùò ÏúÑÌóòÏù¥ ÏóÜÎäî ÎÑìÏùÄ Í≥µÌÑ∞ Îì± ÏïàÏ†ÑÌïú ÏßÄÏó≠ÏúºÎ°ú ÎåÄÌîºÌïúÎã§.', category: 303 },
                    { text: 'Ï∂îÍ∞Ä Î∂ïÍ¥¥, Í∞ÄÏä§ Ìè≠Î∞ú, ÌôîÏû¨ Îì±Ïùò ÏúÑÌóòÏù¥ ÏûàÏúºÎãà ÌîºÌï¥Í∞Ä ÏóÜÎèÑÎ°ù Í±¥Î¨ºÏóê ÏßÑÏûÖÌïòÍ±∞ÎÇò ÏÇ¨Í≥†ÌòÑÏû•Ïóê Ï†ëÍ∑ºÌïòÏßÄ ÏïäÎäîÎã§.', category: 303 }
                ],
                wrong: [
                    { text: 'ÏÇ¨Í≥† ÌõÑ Ïù∏Î™Ö Î∞è Í∏àÏ†ÑÏ†Å ÌîºÌï¥ ÏÉÅÌô©ÏùÑ ÌååÏïÖÌïòÍ∏∞ ÏúÑÌï¥ Í≥ßÎ∞îÎ°ú Î∂ïÍ¥¥Îêú Í±¥Ï∂ïÎ¨º ÎÇ¥Î∂ÄÎ°ú Îì§Ïñ¥Í∞ÑÎã§.', explanation: 'Ï∂îÍ∞Ä Î∂ïÍ¥¥, Í∞ÄÏä§ Ìè≠Î∞ú, ÌôîÏû¨ Îì±Ïùò ÏúÑÌóòÏù¥ ÏûàÏúºÎãà ÌîºÌï¥Í∞Ä ÏóÜÎèÑÎ°ù Í±¥Î¨ºÏóê ÏßÑÏûÖÌïòÍ±∞ÎÇò ÏÇ¨Í≥†ÌòÑÏû•Ïóê Ï†ëÍ∑ºÌïòÏßÄ ÏïäÎäîÎã§.' },
                    { text: 'ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ ÌôÄ, Í≥ÑÎã®Ïã§ Îì±Í≥º Í∞ôÏù¥ Í≤¨ÎîîÎäî ÌûòÏù¥ Í∞ïÌïú Î≤ΩÏ≤¥Í∞Ä ÏûàÎäî Í≥≥ÏùÄ ÏúÑÌóòÌïòÎã§.', explanation: 'ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ ÌôÄ, Í≥ÑÎã®Ïã§ Îì±Í≥º Í∞ôÏù¥ Í≤¨ÎîîÎäî ÌûòÏù¥ Í∞ïÌïú Î≤ΩÏ≤¥Í∞Ä ÏûàÎäî ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú ÏûÑÏãú ÎåÄÌîºÌïúÎã§.' },
                    { text: 'Í≥†Î¶ΩÏù¥ Ïû•Í∏∞ÌôîÎê† Í≤ΩÏö∞Î•º Í≥†Î†§ÌïòÏó¨, ÎÉâÏû•Í≥† Îì±ÏóêÏÑú ÏùåÏãùÍ≥º Î¨ºÏùÑ Ï∞æÏïÑ Î®πÎêò ÏóêÎÑàÏßÄ Î≥¥Ï∂©ÏùÑ ÏúÑÌï¥ Ìïú Î≤àÏóê ÎßéÏù¥ ÏÑ≠Ï∑®ÌïúÎã§.', explanation: 'Í≥†Î¶ΩÏù¥ Ïû•Í∏∞ÌôîÎê† Í≤ΩÏö∞Î•º Í≥†Î†§ÌïòÏó¨, ÎÉâÏû•Í≥† Îì±ÏóêÏÑú ÏùåÏãùÍ≥º Î¨ºÏùÑ Ï∞æÏïÑ Î®πÎêò Í∞ÄÎä•Ìïú Ìïú Ïò§Îûò Î≤ÑÌã∏ Ïàò ÏûàÎèÑÎ°ù ÏùåÏãùÎ¨ºÏùò ÏÜåÎπÑÎ•º Ï°∞Ï†àÌïúÎã§.' }
                ]
            },
            'ÍµêÌÜµÏÇ¨Í≥†': {
                icon: 'üöó',
                categories: {
                    401: 'ÏïàÏ†ÑÌïú ÎèÑÎ°ú Ìö°Îã®',
                    402: 'ÍµêÌÜµÏÇ¨Í≥† Î∞úÏÉù Ïãú',
                    403: 'ÏßÄÌïòÏ≤†Ï†ÑÎèôÏ∞® ÌôîÏû¨ Î∞úÏÉù Ïãú',
                    404: 'ÏûêÎèôÏ∞® Ïπ®Ïàò Ïãú'
                },
                correct: [
                    { text: 'Ìö°Îã®Î≥¥ÎèÑÏóêÏÑú Ïã†Ìò∏Í∞Ä Î∞îÎÄåÎçîÎùºÎèÑ Ï∞®ÎüâÏùò ÏßÑÌñâÏú†Î¨¥Î•º Î∞òÎìúÏãú ÌôïÏù∏ÌïúÎã§.', category: 401 },
                    { text: 'Ìö°Îã®Î≥¥ÎèÑÍ∞Ä ÏïÑÎãå Í≥≥ÏùÑ Î¨¥Îã®ÏúºÎ°ú Ìö°Îã®ÌïòÎäî ÏùºÏùÄ Í∏àÌï¥Ïïº ÌïúÎã§.', category: 401 },
                    { text: 'Ïö¥Ï†ÑÏûêÏùò ÎààÏóê Ïûò ÎùÑÍ≤å ÌïòÍ∏∞ ÏúÑÌï¥ Î∞ùÏùÄ ÏÉâ Ïò∑ÏùÑ ÏûÖÏñ¥Ïïº ÌïúÎã§.', category: 401 },
                    { text: 'ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú Ïö∞ÏÑ† ÎåÄÌîºÌïòÏó¨ Ïã†Í≥†Î•º Ìïú Îí§, Ï∞®ÎüâÏùò ÎπÑÏÉÅÍπúÎπ°Ïù¥Î•º ÏºúÍ≥† Ìä∏Î†ÅÌÅ¨Î•º Ïó¥Í≥† Îëî ÌõÑ ÏÇºÍ∞ÅÎåÄÎ•º ÏÑ§ÏπòÌïúÎã§.', category: 402 },
                    { text: '2Ï∞® ÏÇ¨Í≥† ÏòàÎ∞©ÏùÑ ÏúÑÌïòÏó¨ Í∞ìÍ∏∏Ïù¥ÎÇò ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú Ï∞®ÎüâÏùÑ ÏòÆÍ∏¥Îã§.', category: 402 },
                    { text: 'Í∞ùÏ∞®ÎßàÎã§ ÏÑ§ÏπòÎêòÏñ¥ ÏûàÎäî ÎπÑÏÉÅÌÜµÌôîÏû•ÏπòÎ•º Ïù¥Ïö©ÌïòÏó¨ ÎàåÎü¨ ÏäπÎ¨¥ÏõêÍ≥º Ïó∞ÎùΩÌïúÎã§.', category: 403 },
                    { text: 'Í∞ùÏ∞®ÎßàÎã§ 2Í∞úÏî© ÎπÑÏπòÎêú ÏÜåÌôîÍ∏∞Î•º Ïù¥Ïö©ÌïòÏó¨ Î∂àÏùÑ Í∫ºÏïºÌïúÎã§.', category: 403 },
                    { text: 'ÏßÄÏÉÅÏúºÎ°ú ÎåÄÌîºÍ∞Ä Ïó¨ÏùòÏπò ÏïäÏùÑ ÎïåÏóêÎäî ÎåÄÌîºÏöîÏõê ÏïàÎÇ¥Ïóê Îî∞Îùº Ï≤†Î°úÎ•º Ïù¥Ïö©ÌïòÏó¨ ÎåÄÌîºÌïúÎã§.', category: 403 },
                    { text: 'Î¨∏Ïù¥ Ïó¥Î¶¨ÎäîÏßÄ ÌôïÏù∏Ìïú ÌõÑ, ÌÉàÏ∂ú Ìï† Îïå Î∞©Ìï¥ÎêòÎäî Î¨ºÌíàÏùÑ Î≤óÏñ¥ ÏàòÏòÅÏù¥ Í∞ÄÎä•ÌïòÎèÑÎ°ù ÌïúÎã§.', category: 404 },
                    { text: 'Î¨ºÏóê Îú®Îäî Î¨ºÍ±¥Ïù¥ Ï£ºÏúÑÏóê ÏûàÏúºÎ©¥ ÏõÄÏºúÏ•êÍ≥† Ï∂úÏûÖÎ¨∏ÏùÑ ÌÜµÌï¥ Îπ†Ï†∏ÎÇòÏò®Îã§.', category: 404 },
                    { text: 'Î∞îÎ°ú ÌÉàÏ∂úÌïòÏßÄ Î™ªÌïú Í≤ΩÏö∞ÏóêÎäî Ï∞®ÎÇ¥Ïóê Î¨ºÏù¥ Ïñ¥Îäê Ï†ïÎèÑ Îì§Ïñ¥ÏôÄ Î¨º ÏÜçÍ≥º Ï∞®Îüâ ÎÇ¥Î∂ÄÏùò Í∏∞Ïïï Ï∞®Ïù¥Í∞Ä ÏóÜÏñ¥Ï†∏ Ï∂úÏûÖÎ¨∏ÏùÑ Ïó¥ Ïàò ÏûàÏùÑ Îïå ÌûòÍªè Î¨∏ÏùÑ Ïó¥Ïñ¥ Ïπ®Ï∞©ÌïòÍ≤å Í∏∞Îã§Î†∏Îã§Í∞Ä ÌÉàÏ∂úÌïúÎã§.', category: 404 }
                ],
                wrong: [
                    { text: 'Í∞ùÏ∞®ÎßàÎã§ ÏÑ§ÏπòÎêòÏñ¥ ÏûàÎäî ÎπÑÏÉÅÍ∞úÌèêÏû•ÏπòÎäî Ï†ÑÎ¨∏ ÍµêÏú°ÏùÑ Î∞õÏßÄ ÏïäÏùÄ ÏÇ¨ÎûåÏù¥ ÏûëÎèôÏãúÍ∏∞Î©¥ Ïïà ÎêúÎã§.', explanation: 'Í∞ùÏ∞®ÎßàÎã§ ÏÑ§ÏπòÎêòÏñ¥ ÏûàÎäî ÎπÑÏÉÅÌÜµÌôîÏû•ÏπòÎ•º Ïù¥Ïö©ÌïòÏó¨ ÎàåÎü¨ ÏäπÎ¨¥ÏõêÍ≥º Ïó∞ÎùΩÌïúÎã§.' },
                    { text: 'Ìö°Îã®Î≥¥ÎèÑÏóêÏÑú ÎÖπÏÉâ Ïã†Ìò∏Î•º Î∞õÏúºÎ©¥ Ï∞®ÎüâÏùò ÏßÑÌñâÏú†Î¨¥Î•º ÌôïÏù∏Ìï† ÌïÑÏöîÎäî ÏóÜÎã§.', explanation: 'Ìö°Îã®Î≥¥ÎèÑÏóêÏÑú Ïã†Ìò∏Í∞Ä Î∞îÎÄåÎçîÎùºÎèÑ Ï∞®ÎüâÏùò ÏßÑÌñâÏú†Î¨¥Î•º Î∞òÎìúÏãú ÌôïÏù∏ÌïúÎã§.' },
                    { text: 'ÏÉÅÌô©Ïóê Îî∞Îùº Ìö°Îã®Î≥¥ÎèÑÍ∞Ä ÏïÑÎãå Í≥≥ÏùÑ Î¨¥Îã®ÏúºÎ°ú Ìö°Îã®Ìï† Ïàò ÏûàÎã§.', explanation: 'Ìö°Îã®Î≥¥ÎèÑÍ∞Ä ÏïÑÎãå Í≥≥ÏùÑ Î¨¥Îã®ÏúºÎ°ú Ìö°Îã®ÌïòÎäî ÏùºÏùÄ Í∏àÌï¥Ïïº ÌïúÎã§.' },
                    { text: '2Ï∞® ÏÇ¨Í≥† ÏòàÎ∞©ÏùÑ ÏúÑÌïòÏó¨ ÎèÑÎ°ú ÏúÑÏóê Í∑∏ÎåÄÎ°ú ÏÑ†Îã§.', explanation: '2Ï∞® ÏÇ¨Í≥† ÏòàÎ∞©ÏùÑ ÏúÑÌïòÏó¨ Í∞ìÍ∏∏Ïù¥ÎÇò ÏïàÏ†ÑÌïú Í≥≥ÏúºÎ°ú Ï∞®ÎüâÏùÑ ÏòÆÍ∏¥Îã§.' }
                ]
            },
            'Îã§Ï§ëÏö¥Ïßë Ïù∏ÌååÏÇ¨Í≥†': {
                icon: 'üë•',
                categories: {
                    501: 'Íµ∞Ï§ëÏù¥ ÎßéÏùÄ Í≥≥Ïóê Î∞©Î¨∏Ìïú Í≤ΩÏö∞',
                    502: 'Íµ∞Ï§ë ÏÜçÏóê Í∞áÌòîÏùÑ Í≤ΩÏö∞'
                },
                correct: [
                    { text: 'ÏñëÎ∞©Ìñ• ÌÜµÌñâÏãú ÏõêÌôúÌïú Î≥¥Ìñâ ÌùêÎ¶ÑÏùÑ ÏúÑÌï¥ Ïò§Î•∏Ï™ΩÏúºÎ°ú ÌÜµÌñâÌïúÎã§.', category: 501 },
                    { text: 'Î≥¥ÌñâÏÜçÎèÑÍ∞Ä ÎäêÎ†§ÏßÄÍ±∞ÎÇò, Îã§Î•∏ ÏÇ¨ÎûåÍ≥º Ïã†Ï≤¥Í∞Ä ÎãøÏúºÎ©¥ Ï¶âÏãú Í∑∏ ÏûêÎ¶¨Î•º Î≤óÏñ¥ÎÇúÎã§. (ÏÇ¨ÎûåÎì§Ïùò ÏõÄÏßÅÏûÑÏóê Îî∞Îùº ÎåÄÍ∞ÅÏÑ†ÏúºÎ°ú ÌîºÌïúÎã§.)', category: 501 },
                    { text: 'Íµ∞Ï§ëÏùò ÌûòÏóê Ï†ÄÌï≠ÌïòÏßÄ ÎßêÍ≥† ÏùºÎã® Î∞ÄÎ¶¨Îäî Î∞©Ìñ•ÏúºÎ°ú Î™∏ÏùÑ Îß°Í∏¥Îã§.', category: 502 },
                    { text: 'Îëê ÏÜêÏùÑ Í∞ÄÏä¥ ÏïûÏúºÎ°ú Î™®ÏúºÍ±∞ÎÇò, ÌïúÏ™Ω ÏÜêÏúºÎ°ú Î∞òÎåÄÏ™Ω ÌåîÎöùÏùÑ Ïû°ÏïÑ Í∞ÄÏä¥ÏùÑ Î≥¥Ìò∏ÌïòÍ≥† Ïà® Ïâ¥ Í≥µÍ∞ÑÏùÑ ÌôïÎ≥¥ÌïúÎã§. (Í∞ÄÎ∞©ÏùÑ ÌôúÏö©ÌïòÏó¨ Í∞ÄÏä¥ÏùÑ Î≥¥Ìò∏ÌïúÎã§.)', category: 502 },
                    { text: 'ÎÑòÏñ¥Ï†∏ÏÑú ÏùºÏñ¥ÎÇ† Ïàò ÏóÜÎã§Î©¥ Î®∏Î¶¨Îäî ÎëêÌåîÎ°ú Í∞êÏã∏Í≥†, Îã§Î¶¨Îäî ÏµúÎåÄÌïú Î™∏Ï™ΩÏúºÎ°ú ÎãπÍ≤® Î™∏ÏùÑ Í≥µÏ≤òÎüº ÎèôÍ∑∏ÎûóÍ≤å ÎßêÏïÑ Î™∏ÏùÑ Î≥¥Ìò∏ÌïúÎã§.', category: 502 },
                    { text: 'Îñ®Ïñ¥ÏßÑ ÏÜåÏßÄÌíàÏùÑ Ï§çÍ∏∞ ÏúÑÌï¥ ÌóàÎ¶¨Î•º ÏàôÏù¥Î©¥ ÏúÑÌóòÌïòÎã§.', category: 502 }
                ],
                wrong: [
                    { text: 'Ï¢ÅÏùÄ Í≥®Î™©ÏóêÏÑú Íµ∞Ï§ëÏù¥ Î∞ÄÏßëÌï† Ïãú, Îπ†Î•¥Í≤å ÏÇ¨ÎûåÎì§ÏùÑ Ï†úÏπòÎ©∞ Í∑∏ ÏûêÎ¶¨ÏóêÏÑú Îπ†Ï†∏ÎÇòÏò®Îã§.', explanation: 'Íµ∞Ï§ëÏùò ÌûòÏóê Ï†ÄÌï≠ÌïòÏßÄ ÎßêÍ≥† ÏùºÎã® Î∞ÄÎ¶¨Îäî Î∞©Ìñ•ÏúºÎ°ú Î™∏ÏùÑ Îß°Í∏¥Îã§.' },
                    { text: 'Íµ∞Ï§ëÏùò ÌûòÏóê Ï†ÄÌï≠ÌïòÏó¨ Í∑∏ ÏûêÎ¶¨ÏóêÏÑú Îπ†Ï†∏ÎÇòÏò®Îã§.', explanation: 'Íµ∞Ï§ëÏùò ÌûòÏóê Ï†ÄÌï≠ÌïòÏßÄ ÎßêÍ≥† ÏùºÎã® Î∞ÄÎ¶¨Îäî Î∞©Ìñ•ÏúºÎ°ú Î™∏ÏùÑ Îß°Í∏¥Îã§.' },
                    { text: 'Îñ®Ïñ¥ÏßÑ ÏÜåÏßÄÌíàÏù¥ ÏÇ¨ÎûåÎì§ÏóêÍ≤å Î∞üÌòÄ ÌååÏÜêÎê† Ïàò ÏûàÏúºÎãà, Îπ†Î•¥Í≤å Ï§çÎäîÎã§.', explanation: 'Îñ®Ïñ¥ÏßÑ ÏÜåÏßÄÌíàÏùÑ Ï§çÍ∏∞ ÏúÑÌï¥ ÌóàÎ¶¨Î•º ÏàôÏù¥Î©¥ ÏúÑÌóòÌïòÎã§.' }
                ]
            },
            'Í∞êÏóºÎ≥ë ÏòàÎ∞©': {
                icon: 'ü¶†',
                categories: {
                    601: 'ÏßÑÎìúÍ∏∞ Îß§Í∞ú Í∞êÏóºÎ≥ë',
                    602: 'Ìò∏Ìù°Í∏∞ Í∞êÏóºÎ≥ë ÏòàÎ∞©'
                },
                correct: [
                    { text: 'Í∏∞ÌîºÏ†úÎ•º ÎøåÎ¶∞Îã§.', category: 601 },
                    { text: 'ÌíÄÏà≤ÏùÑ ÌîºÌïúÎã§.', category: 601 },
                    { text: 'Î¨ºÎ¶∞ ÌùîÏ†ÅÏùÑ Ï∞æÏïÑÎ≥∏Îã§.', category: 601 },
                    { text: 'Í∏∞Ïπ® ÏòàÏ†àÏùÑ Ïã§Ï≤úÌïúÎã§.', category: 602 },
                    { text: 'ÏîªÏßÄ ÏïäÏùÄ ÏÜêÏúºÎ°ú Îàà, ÏΩî, ÏûÖÏùÑ ÎßåÏßÄÏßÄ ÏïäÎäîÎã§.', category: 602 },
                    { text: 'Î∞úÏó¥ Î∞è Ìò∏Ìù°Í∏∞ Ï¶ùÏÉÅ Ïãú ÏùòÎ£åÍ∏∞Í¥ÄÏùÑ Î∞©Î¨∏ÌïòÏó¨ Ï†ÅÏ†àÌïú ÏßÑÎ£åÎ•º Î∞õÎäîÎã§.', category: 602 }
                ],
                wrong: [
                    { text: 'Í≥µÍ≥µÏãúÏÑ§ ÌôîÏû•Ïã§Ïùò ÎπÑÎàÑÎäî Ïó¨Îü¨ ÏÇ¨ÎûåÏù¥ ÏÇ¨Ïö©ÌïòÏó¨ Í∞êÏóºÏóê Ï∑®ÏïΩÌïòÍ∏∞Ïóê Î¨ºÎ°úÎßå ÏÜêÏùÑ ÏîªÎäî Í≤ÉÏù¥ Ï¢ãÎã§', explanation: 'ÎπÑÎàÑÎ•º ÌôúÏö©ÌïòÏó¨ ÏÜêÏùÑ ÏîªÎäî Í≤ÉÏù¥ Ï¢ãÎã§.' },
                    { text: 'Î∞úÏó¥ Î∞è Ìò∏Ìù°Í∏∞ Ï¶ùÏÉÅ Ïãú ÏùòÎ£åÍ∏∞Í¥ÄÏùÑ Î∞©Î¨∏ÌïòÍ∏∞ Î≥¥Îã® ÏßëÏóê Í∞ÄÎßåÌûà ÏûàÎäîÎã§.', explanation: 'Î∞úÏó¥ Î∞è Ìò∏Ìù°Í∏∞ Ï¶ùÏÉÅ Ïãú ÏùòÎ£åÍ∏∞Í¥ÄÏùÑ Î∞©Î¨∏ÌïòÏó¨ Ï†ÅÏ†àÌïú ÏßÑÎ£åÎ•º Î∞õÎäîÎã§.' },
                    { text: 'Í∏∞ÌîºÏ†úÎ•º ÎøåÎ¶¨Í∏∞ Î≥¥Îã® ÏûêÏó∞ Í∑∏ÎåÄÎ°úÎ•º Ï¶êÍ∏¥Îã§.', explanation: 'Í∏∞ÌîºÏ†úÎ•º ÎøåÎ¶∞Îã§.' }
                ]
            }
        };

        function DisasterCardGame() {
            const [gameState, setGameState] = useState('mode-selection');
            const [gameMode, setGameMode] = useState(null);
            const [disasters, setDisasters] = useState([]);
            const [currentDisasterIndex, setCurrentDisasterIndex] = useState(0);
            const [lives, setLives] = useState(3);
            const [collectedCategories, setCollectedCategories] = useState({});
            const [phase, setPhase] = useState('waiting');
            const [drawnCards, setDrawnCards] = useState([]);
            const [cardAnswers, setCardAnswers] = useState({});
            const [correctlyAnsweredCards, setCorrectlyAnsweredCards] = useState([]);
            const [showCategoryQuiz, setShowCategoryQuiz] = useState(false);
            const [currentQuizCardIndex, setCurrentQuizCardIndex] = useState(0);
            const [drawnCardHistory, setDrawnCardHistory] = useState({});
            const [showExplanation, setShowExplanation] = useState(null);
            const [gameHistory, setGameHistory] = useState([]);
            const [showHistoryPanel, setShowHistoryPanel] = useState(false);

            const showMessage = (text, color = '#4ecdc4') => {
                const messageDiv = document.createElement('div');
                messageDiv.textContent = text;
                messageDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: ${color};
                    color: white;
                    padding: 30px 50px;
                    border-radius: 20px;
                    font-size: 1.5em;
                    font-weight: bold;
                    z-index: 2000;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                `;
                document.body.appendChild(messageDiv);
                setTimeout(() => messageDiv.remove(), 1500);
            };

            const selectMode = (mode) => {
                setGameMode(mode);
                initializeGame(mode);
            };

            const initializeGame = (mode) => {
                const data = mode === 'natural' ? NATURAL_DISASTERS : SOCIAL_DISASTERS;
                const disasterNames = Object.keys(data);
                const shuffled = [...disasterNames].sort(() => Math.random() - 0.5);
                const selected = shuffled.slice(0, 3).map(name => ({ name, ...data[name] }));

                setDisasters(selected);
                setCurrentDisasterIndex(0);
                setLives(3);
                setCollectedCategories({});
                setDrawnCardHistory({});
                setGameHistory([]);
                setPhase('waiting');
                setGameState('playing');
            };

            const getCurrentDisaster = () => disasters[currentDisasterIndex];

            const draw5Cards = () => {
                const current = getCurrentDisaster();
                if (!current) return;

                const disasterName = current.name;
                const alreadyDrawn = drawnCardHistory[disasterName] || [];

                const availableCorrect = current.correct.filter(card => 
                    !alreadyDrawn.some(drawn => drawn.text === card.text)
                );
                const availableWrong = current.wrong.filter(card => 
                    !alreadyDrawn.some(drawn => drawn.text === card.text)
                );

                const totalAvailable = availableCorrect.length + availableWrong.length;

                if (totalAvailable === 0) {
                    showMessage('Ïπ¥ÎìúÎ•º Îã§Ïãú ÏÑûÏäµÎãàÎã§!', '#ffd93d');
                    setDrawnCardHistory(prev => ({ ...prev, [disasterName]: [] }));
                    setTimeout(() => draw5Cards(), 1500);
                    return;
                }

                let selectedCorrect, selectedWrong;
                
                if (totalAvailable <= 5) {
                    selectedCorrect = availableCorrect.map(card => ({ ...card, isCorrect: true, id: Math.random() }));
                    selectedWrong = availableWrong.map(card => ({ ...card, isCorrect: false, id: Math.random() }));
                } else {
                    const maxCorrect = Math.min(4, availableCorrect.length);
                    const minCorrect = Math.min(2, availableCorrect.length);
                    const numCorrect = minCorrect + Math.floor(Math.random() * (maxCorrect - minCorrect + 1));
                    const numWrong = Math.min(5 - numCorrect, availableWrong.length);

                    const shuffledCorrect = availableCorrect.sort(() => Math.random() - 0.5);
                    const shuffledWrong = availableWrong.sort(() => Math.random() - 0.5);

                    selectedCorrect = shuffledCorrect.slice(0, numCorrect).map(card => ({ ...card, isCorrect: true, id: Math.random() }));
                    selectedWrong = shuffledWrong.slice(0, numWrong).map(card => ({ ...card, isCorrect: false, id: Math.random() }));
                }

                const cards = [...selectedCorrect, ...selectedWrong].sort(() => Math.random() - 0.5);
                
                setDrawnCardHistory(prev => ({
                    ...prev,
                    [disasterName]: [...alreadyDrawn, ...cards.map(c => ({ text: c.text, isCorrect: c.isCorrect }))]
                }));

                setDrawnCards(cards);
                setCardAnswers({});
                setPhase('ox-selection');
            };

            const handleOXSelection = (cardId, isO) => {
                const card = drawnCards.find(c => c.id === cardId);
                if (!card) return;

                const isCorrectAnswer = (card.isCorrect && isO) || (!card.isCorrect && !isO);
                const current = getCurrentDisaster();
                
                setCardAnswers(prev => ({ ...prev, [cardId]: { selected: isO, correct: isCorrectAnswer } }));

                // ÌûàÏä§ÌÜ†Î¶¨Ïóê Í∏∞Î°ù
                const historyEntry = {
                    disaster: current.name,
                    cardText: card.text,
                    isCardCorrect: card.isCorrect,
                    userChoice: isO ? 'O' : 'X',
                    isCorrectAnswer: isCorrectAnswer,
                    explanation: card.explanation || null,
                    type: 'ox'
                };
                setGameHistory(prev => [...prev, historyEntry]);

                if (!isCorrectAnswer) {
                    const newLives = lives - 1;
                    setLives(newLives);
                    
                    // Ïò§Îãµ Ïπ¥ÎìúÎ•º OÎ°ú ÏÑ†ÌÉùÌïú Í≤ΩÏö∞ ÏÑ§Î™Ö Î™®Îã¨ ÌëúÏãú
                    if (!card.isCorrect && isO) {
                        setShowExplanation({
                            type: 'wrongCardSelectedO',
                            wrongText: card.text,
                            correctText: card.explanation
                        });
                    } 
                    // Ï†ïÎãµ Ïπ¥ÎìúÎ•º XÎ°ú ÏÑ†ÌÉùÌïú Í≤ΩÏö∞ ÏÑ§Î™Ö Î™®Îã¨ ÌëúÏãú
                    else if (card.isCorrect && !isO) {
                        setShowExplanation({
                            type: 'correctCardSelectedX',
                            cardText: card.text
                        });
                    }

                    if (newLives <= 0) {
                        setTimeout(() => setGameState('game-over'), 2000);
                    }
                } else {
                    if (card.isCorrect && isO) {
                        showMessage('‚úÖ Ï†ïÎãµ! (ÏÜêÌå®Î°ú Ïù¥Îèô)', '#4ecdc4');
                    } else {
                        showMessage('‚úÖ Ï†ïÎãµ!', '#4ecdc4');
                    }
                }
            };

            const closeExplanation = () => {
                setShowExplanation(null);
                showMessage('‚ùå ÌãÄÎ†∏ÏäµÎãàÎã§! Î™©Ïà® -1', '#ff6b6b');
            };

            const finishOXSelection = () => {
                const correctOCards = drawnCards.filter(card => {
                    const answer = cardAnswers[card.id];
                    return answer && answer.correct && card.isCorrect;
                });

                if (correctOCards.length === 0) {
                    showMessage('ÏÜêÌå®Ïóê ÎÑ£ÏùÑ Ïπ¥ÎìúÍ∞Ä ÏóÜÏäµÎãàÎã§', '#ffd93d');
                    setTimeout(() => {
                        // ÎØ∏ÏôÑÎ£å Ïû¨ÎÇú Ï∞æÍ∏∞ (ÏôÑÎ£åÎêú Ïû¨ÎÇú Í±¥ÎÑàÎúÄ)
                        let nextIndex = -1;
                        for (let i = 1; i <= disasters.length; i++) {
                            const idx = (currentDisasterIndex + i) % disasters.length;
                            const disaster = disasters[idx];
                            const disasterCollected = collectedCategories[disaster.name] || [];
                            const allCategories = Object.keys(disaster.categories).map(Number);
                            const isCompleted = allCategories.every(cat => disasterCollected.includes(cat));
                            
                            if (!isCompleted) {
                                nextIndex = idx;
                                break;
                            }
                        }
                        
                        if (nextIndex === -1) {
                            // Î™®Îì† Ïû¨ÎÇú ÏôÑÎ£å -> ÏäπÎ¶¨
                            setGameState('victory');
                            celebrateVictory();
                        } else {
                            setCurrentDisasterIndex(nextIndex);
                            setPhase('waiting');
                            setDrawnCards([]);
                            setCardAnswers({});
                        }
                    }, 1500);
                } else {
                    setCorrectlyAnsweredCards(correctOCards);
                    setCurrentQuizCardIndex(0);
                    setShowCategoryQuiz(true);
                    setPhase('category-quiz');
                }
            };

            const handleCategoryAnswer = (categoryId) => {
                const card = correctlyAnsweredCards[currentQuizCardIndex];
                const current = getCurrentDisaster();
                
                const isCorrect = categoryId === card.category;

                // ÌûàÏä§ÌÜ†Î¶¨Ïóê Í∏∞Î°ù
                const historyEntry = {
                    disaster: current.name,
                    cardText: card.text,
                    correctCategory: current.categories[card.category],
                    selectedCategory: current.categories[categoryId],
                    isCorrectAnswer: isCorrect,
                    type: 'category'
                };
                setGameHistory(prev => [...prev, historyEntry]);

                // Î™®Îì† Ïû¨ÎÇúÏùò Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨ ÏôÑÎ£å Ïó¨Î∂Ä ÌôïÏù∏ Ìï®Ïàò
                const checkAllDisastersComplete = (updatedCollected) => {
                    return disasters.every(disaster => {
                        const disasterCollected = updatedCollected[disaster.name] || [];
                        const allCategories = Object.keys(disaster.categories).map(Number);
                        return allCategories.every(cat => disasterCollected.includes(cat));
                    });
                };

                // Îã§Ïùå Ïû¨ÎÇúÏúºÎ°ú Ïù¥ÎèôÌïòÎäî Ìï®Ïàò (ÏôÑÎ£åÎêú Ïû¨ÎÇúÏùÄ Í±¥ÎÑàÎúÄ)
                const advanceToNextDisaster = () => {
                    // ÎØ∏ÏôÑÎ£å Ïû¨ÎÇú Ï∞æÍ∏∞
                    const findNextIncompleteDisaster = () => {
                        for (let i = 1; i <= disasters.length; i++) {
                            const nextIndex = (currentDisasterIndex + i) % disasters.length;
                            const disaster = disasters[nextIndex];
                            const disasterCollected = collectedCategories[disaster.name] || [];
                            const allCategories = Object.keys(disaster.categories).map(Number);
                            const isCompleted = allCategories.every(cat => disasterCollected.includes(cat));
                            
                            if (!isCompleted) {
                                return nextIndex;
                            }
                        }
                        return -1; // Î™®Îì† Ïû¨ÎÇú ÏôÑÎ£åÎê®
                    };
                    
                    const nextIndex = findNextIncompleteDisaster();
                    
                    if (nextIndex === -1) {
                        // Î™®Îì† Ïû¨ÎÇú ÏôÑÎ£å -> ÏäπÎ¶¨
                        setGameState('victory');
                        celebrateVictory();
                    } else {
                        setCurrentDisasterIndex(nextIndex);
                        setPhase('waiting');
                        setDrawnCards([]);
                        setCardAnswers({});
                    }
                };

                if (isCorrect) {
                    confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    showMessage(`‚úÖ Ï†ïÎãµ! "${current.categories[categoryId]}" ÌöçÎìù!`, '#4ecdc4');
                    
                    const disasterName = current.name;
                    const currentCollected = collectedCategories[disasterName] || [];
                    
                    if (!currentCollected.includes(categoryId)) {
                        const newCollected = [...currentCollected, categoryId];
                        const updatedCollectedCategories = { ...collectedCategories, [disasterName]: newCollected };
                        setCollectedCategories(updatedCollectedCategories);
                        
                        const allCategories = Object.keys(current.categories).map(Number);
                        
                        // ÌòÑÏû¨ Ïû¨ÎÇúÏùò Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨ ÏàòÏßë ÏôÑÎ£å Ïãú
                        if (allCategories.every(cat => newCollected.includes(cat))) {
                            // Î™®Îì† Ïû¨ÎÇú Ìï¥Í≤∞ ÏôÑÎ£å Ïãú ÏäπÎ¶¨
                            if (checkAllDisastersComplete(updatedCollectedCategories)) {
                                setTimeout(() => {
                                    setShowCategoryQuiz(false);
                                    showMessage(`üéâ ${current.name} Ïû¨ÎÇú Ìï¥Í≤∞!`, '#667eea');
                                    setTimeout(() => {
                                        setGameState('victory');
                                        celebrateVictory();
                                    }, 1500);
                                }, 1500);
                                return;
                            }
                            
                            // ÌòÑÏû¨ Ïû¨ÎÇúÎßå Ìï¥Í≤∞ -> ÎÇ®ÏùÄ ÌÄ¥Ï¶à Í±¥ÎÑàÎõ∞Í≥† Îã§Ïùå Ïû¨ÎÇúÏúºÎ°ú Ïù¥Îèô
                            setTimeout(() => {
                                setShowCategoryQuiz(false);
                                showMessage(`üéâ ${current.name} Ïû¨ÎÇú Ìï¥Í≤∞! Îã§Ïùå Ïû¨ÎÇúÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.`, '#667eea');
                                setTimeout(() => {
                                    advanceToNextDisaster();
                                }, 1500);
                            }, 1500);
                            return;
                        }
                    }
                    
                    setTimeout(() => {
                        const nextIndex = currentQuizCardIndex + 1;
                        if (nextIndex >= correctlyAnsweredCards.length) {
                            // ÌÄ¥Ï¶à Ï¢ÖÎ£å -> Îã§Ïùå Ïû¨ÎÇúÏúºÎ°ú Ïù¥Îèô
                            setShowCategoryQuiz(false);
                            advanceToNextDisaster();
                        } else {
                            setCurrentQuizCardIndex(nextIndex);
                        }
                    }, 1500);
                } else {
                    showMessage('‚ùå ÌãÄÎ†∏ÏäµÎãàÎã§! Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÌöçÎìùÌïòÏßÄ Î™ªÌñàÏäµÎãàÎã§', '#ff6b6b');
                    
                    setTimeout(() => {
                        const nextIndex = currentQuizCardIndex + 1;
                        if (nextIndex >= correctlyAnsweredCards.length) {
                            // ÌÄ¥Ï¶à Ï¢ÖÎ£å -> Îã§Ïùå Ïû¨ÎÇúÏúºÎ°ú Ïù¥Îèô
                            setShowCategoryQuiz(false);
                            advanceToNextDisaster();
                        } else {
                            setCurrentQuizCardIndex(nextIndex);
                        }
                    }, 1500);
                }
            };

            const celebrateVictory = () => {
                const duration = 3000;
                const end = Date.now() + duration;
                const frame = () => {
                    confetti({ particleCount: 2, angle: 60, spread: 55, origin: { x: 0 } });
                    confetti({ particleCount: 2, angle: 120, spread: 55, origin: { x: 1 } });
                    if (Date.now() < end) requestAnimationFrame(frame);
                };
                frame();
            };

            const resetGame = () => {
                setGameState('mode-selection');
                setGameMode(null);
                setDisasters([]);
                setCurrentDisasterIndex(0);
                setLives(3);
                setCollectedCategories({});
                setPhase('waiting');
                setDrawnCards([]);
                setCardAnswers({});
                setShowCategoryQuiz(false);
                setDrawnCardHistory({});
                setGameHistory([]);
                setShowHistoryPanel(false);
            };

            // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞
            const getStats = () => {
                const oxQuestions = gameHistory.filter(h => h.type === 'ox');
                const categoryQuestions = gameHistory.filter(h => h.type === 'category');
                
                return {
                    oxTotal: oxQuestions.length,
                    oxCorrect: oxQuestions.filter(h => h.isCorrectAnswer).length,
                    categoryTotal: categoryQuestions.length,
                    categoryCorrect: categoryQuestions.filter(h => h.isCorrectAnswer).length
                };
            };

            // Î™®Îìú ÏÑ†ÌÉù ÌôîÎ©¥
            if (gameState === 'mode-selection') {
                return (
                    <div className="game-container">
                        <h1 className="title">üéÆ Ïû¨ÎÇú Í¥ÄÎ¶¨ Ïπ¥Îìú Í≤åÏûÑ</h1>
                        <div className="mode-selection">
                            <h2>Í≤åÏûÑ Î™®ÎìúÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</h2>
                            <div style={{marginTop: '20px'}}>
                                <button className="mode-button" onClick={() => selectMode('natural')}>üåä ÏûêÏó∞Ïû¨ÎÇú Î™®Îìú</button>
                                <button className="mode-button" onClick={() => selectMode('social')}>üèôÔ∏è ÏÇ¨ÌöåÏû¨ÎÇú Î™®Îìú</button>
                            </div>
                            <div style={{marginTop: '40px', padding: '20px', background: '#f8f8f8', borderRadius: '15px', textAlign: 'left', maxWidth: '700px', margin: '40px auto'}}>
                                <h3 style={{color: '#667eea', marginBottom: '15px'}}>üìñ Í≤åÏûÑ Í∑úÏπô</h3>
                                <ol style={{lineHeight: '2', paddingLeft: '20px'}}>
                                    <li>Ïπ¥Îìú ÎΩëÍ∏∞ Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ 5Ïû•Ïùò Ïπ¥ÎìúÍ∞Ä ÎÇòÌÉÄÎÇ©ÎãàÎã§.</li>
                                    <li>Í∞Å Ïπ¥ÎìúÍ∞Ä Ï†ïÎãµ(O)Ïù∏ÏßÄ Ïò§Îãµ(X)Ïù∏ÏßÄ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.</li>
                                    <li><strong>O‚ÜíO, X‚ÜíX ÎßûÏ∂îÍ∏∞:</strong> Ï†ïÎãµ! (O Ïπ¥ÎìúÎäî ÏÜêÌå®Î°ú)</li>
                                    <li><strong>O‚ÜíX, X‚ÜíO ÏÑ†ÌÉù:</strong> Ïò§Îãµ, Î™©Ïà® -1</li>
                                    <li>ÏÜêÌå®Ïùò O Ïπ¥ÎìúÎì§Ïùò Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÎßûÏ∂îÏÑ∏Ïöî.</li>
                                    <li>Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÎßûÏ∂îÎ©¥ Ï≤¥ÌÅ¨ ÌöçÎìù (ÌãÄÎ†§ÎèÑ Î™©Ïà®ÏùÄ Ïïà ÍπéÏûÑ)</li>
                                    <li>Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨ Ï≤¥ÌÅ¨Î•º Î™®ÏúºÎ©¥ Ïû¨ÎÇú Ìï¥Í≤∞!</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                );
            }

            // ÏäπÎ¶¨/Í≤åÏûÑÏò§Î≤Ñ ÌôîÎ©¥
            if (gameState === 'victory' || gameState === 'game-over') {
                const stats = getStats();
                const isVictory = gameState === 'victory';
                
                return (
                    <div className="game-container">
                        <div className={isVictory ? 'victory-screen' : 'game-over-screen'}>
                            <h1>{isVictory ? 'üéâ Ï∂ïÌïòÌï©ÎãàÎã§! üéâ' : 'üíÄ Í≤åÏûÑ Ïò§Î≤Ñ üíÄ'}</h1>
                            <h2>{isVictory ? 'Î™®Îì† Ïû¨ÎÇúÏùÑ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ìï¥Í≤∞ÌïòÏòÄÏäµÎãàÎã§!' : 'Î™©Ïà®ÏùÑ Î™®Îëê ÏûÉÏóàÏäµÎãàÎã§!'}</h2>
                            
                            <div className="stats-box">
                                <div className="stat-item">
                                    <div className="stat-number correct">{stats.oxCorrect}</div>
                                    <div className="stat-label">O/X Ï†ïÎãµ</div>
                                </div>
                                <div className="stat-item">
                                    <div className="stat-number incorrect">{stats.oxTotal - stats.oxCorrect}</div>
                                    <div className="stat-label">O/X Ïò§Îãµ</div>
                                </div>
                                <div className="stat-item">
                                    <div className="stat-number correct">{stats.categoryCorrect}</div>
                                    <div className="stat-label">Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†ïÎãµ</div>
                                </div>
                                <div className="stat-item">
                                    <div className="stat-number incorrect">{stats.categoryTotal - stats.categoryCorrect}</div>
                                    <div className="stat-label">Ïπ¥ÌÖåÍ≥†Î¶¨ Ïò§Îãµ</div>
                                </div>
                            </div>

                            <button className="toggle-history" onClick={() => setShowHistoryPanel(!showHistoryPanel)}>
                                {showHistoryPanel ? 'üìã ÌûàÏä§ÌÜ†Î¶¨ Ïà®Í∏∞Í∏∞' : 'üìã ÌÄ¥Ï¶à ÌûàÏä§ÌÜ†Î¶¨ Î≥¥Í∏∞'}
                            </button>

                            {showHistoryPanel && (
                                <div className="history-section">
                                    <h3 style={{marginBottom: '15px', color: '#667eea'}}>üìù ÌÄ¥Ï¶à ÌûàÏä§ÌÜ†Î¶¨</h3>
                                    {gameHistory.map((item, idx) => (
                                        <div key={idx} className={`history-item ${item.isCorrectAnswer ? 'correct' : 'incorrect'}`}>
                                            <div className="disaster-name">{item.disaster}</div>
                                            <div className="card-text">"{item.cardText}"</div>
                                            {item.type === 'ox' ? (
                                                <>
                                                    <div>Ïã§Ï†ú: {item.isCardCorrect ? 'O (Ï†ïÎãµ Ïπ¥Îìú)' : 'X (Ïò§Îãµ Ïπ¥Îìú)'} | ÏÑ†ÌÉù: {item.userChoice}</div>
                                                    {!item.isCorrectAnswer && !item.isCardCorrect && item.explanation && (
                                                        <div style={{marginTop: '5px', padding: '10px', background: '#e8f5e9', borderRadius: '5px'}}>
                                                            <strong>‚úÖ Ïò¨Î∞îÎ•∏ Ï†ïÎ≥¥:</strong> {item.explanation}
                                                        </div>
                                                    )}
                                                    {!item.isCorrectAnswer && item.isCardCorrect && (
                                                        <div style={{marginTop: '5px', padding: '10px', background: '#e8f5e9', borderRadius: '5px'}}>
                                                            <strong>‚úÖ Ïù¥ Ïπ¥ÎìúÎäî Ï†ïÎãµÏûÖÎãàÎã§!</strong> Ïû¨ÎÇú ÏÉÅÌô©ÏóêÏÑú Ïò¨Î∞îÎ•∏ ÎåÄÏ≤ò Î∞©Î≤ïÏûÖÎãàÎã§.
                                                        </div>
                                                    )}
                                                </>
                                            ) : (
                                                <div>Ï†ïÎãµ Ïπ¥ÌÖåÍ≥†Î¶¨: {item.correctCategory} | ÏÑ†ÌÉù: {item.selectedCategory}</div>
                                            )}
                                            <div className={`result ${item.isCorrectAnswer ? 'correct' : 'incorrect'}`}>
                                                {item.isCorrectAnswer ? '‚úÖ Ï†ïÎãµ' : '‚ùå Ïò§Îãµ'}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}

                            <button className="action-button" style={{marginTop: '20px'}} onClick={resetGame}>
                                Îã§Ïãú ÏãúÏûëÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                );
            }

            // Í≤åÏûÑ ÌîåÎ†àÏù¥ ÌôîÎ©¥
            const current = getCurrentDisaster();
            const collected = collectedCategories[current?.name] || [];
            const allAnswered = drawnCards.length > 0 && drawnCards.every(card => cardAnswers[card.id]);

            return (
                <div className="game-container">
                    <h1 className="title">üéÆ Ïû¨ÎÇú Í¥ÄÎ¶¨ Ïπ¥Îìú Í≤åÏûÑ</h1>

                    <div className="lives-display">
                        <h3>ÎÇ®ÏùÄ Î™©Ïà®</h3>
                        <div className="hearts">
                            {Array(lives).fill(0).map((_, i) => <span key={i} className="heart">‚ù§Ô∏è</span>)}
                        </div>
                        <div style={{marginTop: '10px', fontSize: '1.2em', fontWeight: 'bold', color: '#667eea'}}>{lives} / 3</div>
                    </div>

                    <div className="player-info">
                        <div><strong>ÌòÑÏû¨ ÌÑ¥: {current?.name}</strong></div>
                        <div>Ìï¥Í≤∞Ìïú Ïû¨ÎÇú: {disasters.filter(d => {
                            const collected = collectedCategories[d.name] || [];
                            const allCats = Object.keys(d.categories).map(Number);
                            return allCats.every(cat => collected.includes(cat));
                        }).length} / {disasters.length}</div>
                    </div>

                    <h3 style={{textAlign: 'center', color: '#667eea', marginBottom: '15px'}}>Ïû¨ÎÇú Ïπ¥Îìú</h3>
                    <div className="disaster-cards-area">
                        {disasters.map((disaster, idx) => {
                            const isActive = idx === currentDisasterIndex;
                            const disasterCollected = collectedCategories[disaster.name] || [];
                            const allCategories = Object.keys(disaster.categories).map(Number);
                            const isCompleted = allCategories.every(cat => disasterCollected.includes(cat));
                            
                            return (
                                <div key={idx} className={`disaster-card ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}`}>
                                    <div className="card-header">{isCompleted ? '‚úÖ ' : ''}{disaster.name}</div>
                                    <div className="card-image">{disaster.icon}</div>
                                    <div className="card-footer">
                                        {Object.entries(disaster.categories).map(([catId, catName]) => (
                                            <span key={catId} className={`category-dot ${disasterCollected.includes(Number(catId)) ? 'collected' : ''}`} title={catName}>
                                                {disasterCollected.includes(Number(catId)) ? '‚úì' : '‚óã'}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {phase === 'waiting' && (
                        <div style={{textAlign: 'center', marginTop: '30px'}}>
                            <div className="instructions">üí° "{current?.name}" Ïû¨ÎÇúÏùÑ Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨ Ïπ¥ÎìúÎ•º Î™®ÏúºÏÑ∏Ïöî!</div>
                            <button className="next-button" onClick={draw5Cards}>üÉè Ïπ¥Îìú ÎΩëÍ∏∞</button>
                        </div>
                    )}

                    {phase === 'ox-selection' && drawnCards.length > 0 && (
                        <div>
                            <div className="instructions">üéØ Í∞Å Ïπ¥ÎìúÍ∞Ä Ï†ïÎãµ(O)Ïù∏ÏßÄ Ïò§Îãµ(X)Ïù∏ÏßÄ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî!</div>
                            <div className="drawn-cards-area">
                                {drawnCards.map((card) => {
                                    const answer = cardAnswers[card.id];
                                    const hasAnswered = !!answer;
                                    
                                    return (
                                        <div key={card.id} className={`solution-card ${hasAnswered ? 'answered' : ''}`}>
                                            {hasAnswered && (
                                                <div className={`result-badge ${answer.correct ? 'correct' : 'incorrect'}`}>
                                                    {answer.correct ? '‚úì' : '‚úó'}
                                                </div>
                                            )}
                                            <div className="solution-text">{card.text}</div>
                                            <div className="ox-buttons">
                                                <button className="ox-button o-button" onClick={() => handleOXSelection(card.id, true)} disabled={hasAnswered}>O</button>
                                                <button className="ox-button x-button" onClick={() => handleOXSelection(card.id, false)} disabled={hasAnswered}>X</button>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                            {allAnswered && (
                                <div style={{textAlign: 'center', marginTop: '20px'}}>
                                    <button className="next-button" onClick={finishOXSelection}>Îã§Ïùå Îã®Í≥ÑÎ°ú ‚Üí</button>
                                </div>
                            )}
                        </div>
                    )}

                    <div className="hand-section">
                        <h3>üìã ÌöçÎìùÌïú Ïπ¥ÌÖåÍ≥†Î¶¨ (ÌòÑÏû¨ Ïû¨ÎÇú: {current?.name})</h3>
                        <div className="hand-cards">
                            {current && Object.entries(current.categories).map(([catId, catName]) => {
                                const isCollected = collected.includes(Number(catId));
                                return (
                                    <div key={catId} className="hand-card" style={{ background: isCollected ? '#4ecdc4' : '#ccc', opacity: isCollected ? 1 : 0.5 }}>
                                        {isCollected ? '‚úì ' : '‚óã '}{catName}
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    {/* Ïò§Îãµ ÏÑ§Î™Ö Î™®Îã¨ */}
                    {showExplanation && (
                        <div className="modal">
                            <div className="explanation-modal">
                                <h2>‚ùå Ïò§ÎãµÏûÖÎãàÎã§!</h2>
                                
                                {showExplanation.type === 'wrongCardSelectedO' && (
                                    <>
                                        <p style={{margin: '15px 0', color: '#666'}}>Ïù¥ Ïπ¥ÎìúÎäî <strong style={{color: '#ff6b6b'}}>Ïò§Îãµ Ïπ¥Îìú</strong>ÏûÖÎãàÎã§. OÍ∞Ä ÏïÑÎãå XÎ•º ÏÑ†ÌÉùÌï¥Ïïº Ìï©ÎãàÎã§.</p>
                                        <div className="explanation-box wrong">
                                            <span className="explanation-label">‚ùå ÏÑ†ÌÉùÌïú Ïπ¥Îìú (Ïò§Îãµ Ïπ¥Îìú):</span>
                                            {showExplanation.wrongText}
                                        </div>
                                        <div className="explanation-box correct">
                                            <span className="explanation-label">‚úÖ Ïò¨Î∞îÎ•∏ Ï†ïÎ≥¥:</span>
                                            {showExplanation.correctText}
                                        </div>
                                    </>
                                )}
                                
                                {showExplanation.type === 'correctCardSelectedX' && (
                                    <>
                                        <p style={{margin: '15px 0', color: '#666'}}>Ïù¥ Ïπ¥ÎìúÎäî <strong style={{color: '#4ecdc4'}}>Ï†ïÎãµ Ïπ¥Îìú</strong>ÏûÖÎãàÎã§. XÍ∞Ä ÏïÑÎãå OÎ•º ÏÑ†ÌÉùÌï¥Ïïº Ìï©ÎãàÎã§.</p>
                                        <div className="explanation-box correct">
                                            <span className="explanation-label">‚úÖ Ïù¥ Ïπ¥ÎìúÎäî Ï†ïÎãµÏûÖÎãàÎã§:</span>
                                            {showExplanation.cardText}
                                        </div>
                                        <p style={{marginTop: '15px', padding: '15px', background: '#fff3cd', borderRadius: '8px', color: '#856404'}}>
                                            üí° Ïù¥ ÌñâÎèôÏöîÎ†πÏùÄ Ïû¨ÎÇú ÏÉÅÌô©ÏóêÏÑú Ïò¨Î∞îÎ•∏ ÎåÄÏ≤ò Î∞©Î≤ïÏûÖÎãàÎã§!
                                        </p>
                                    </>
                                )}
                                
                                <button className="action-button" onClick={closeExplanation}>ÌôïÏù∏ (Î™©Ïà® -1)</button>
                            </div>
                        </div>
                    )}

                    {/* Ïπ¥ÌÖåÍ≥†Î¶¨ ÌÄ¥Ï¶à Î™®Îã¨ */}
                    {showCategoryQuiz && correctlyAnsweredCards.length > 0 && (
                        <div className="modal">
                            <div className="modal-content">
                                <h2>üìö Ïπ¥ÌÖåÍ≥†Î¶¨ ÌÄ¥Ï¶à!</h2>
                                <p style={{margin: '15px 0', fontSize: '1.1em'}}>ÏÜêÌå® Ïπ¥Îìú {currentQuizCardIndex + 1} / {correctlyAnsweredCards.length}</p>
                                <p style={{margin: '10px 0', color: '#856404'}}>Ïù¥ Ìï¥Í≤∞Ï±ÖÏùÄ Ïñ¥Îäê Ïπ¥ÌÖåÍ≥†Î¶¨Ïóê ÏÜçÌï†ÍπåÏöî?</p>
                                <div className="solution-card" style={{margin: '20px auto', width: '100%', maxWidth: '450px'}}>
                                    <div className="solution-text">{correctlyAnsweredCards[currentQuizCardIndex].text}</div>
                                </div>
                                <div style={{marginTop: '20px'}}>
                                    {Object.entries(current.categories).map(([catId, catName]) => (
                                        <div key={catId} className="quiz-option" onClick={() => handleCategoryAnswer(Number(catId))}>{catName}</div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<DisasterCardGame />, document.getElementById('root'));
    </script>
</body>
</html>
